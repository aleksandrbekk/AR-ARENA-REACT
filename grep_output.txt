./dist/assets/index-DnCOO1uG.js:–ü—Ä–∏–∑: ${P.prize} AR`),S()):alert(`‚ùå –û—à–∏–±–∫–∞: ${P?.error||"Unknown error"}`)}catch(P){console.error("Error ending giveaway:",P),alert(`‚ùå –û—à–∏–±–∫–∞: ${P.message}`)}};return a?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("div",{className:"text-white/40",children:"–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π..."})}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>c("active"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-colors ${l==="active"?"bg-green-500/20 text-green-500 border border-green-500/30":"bg-zinc-800 text-white/60 border border-white/10"}`,children:"–ê–∫—Ç–∏–≤–Ω—ã–µ"}),d.jsx("button",{onClick:()=>c("completed"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-colors ${l==="completed"?"bg-zinc-700/50 text-white border border-white/30":"bg-zinc-800 text-white/60 border border-white/10"}`,children:"–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ"}),d.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-colors ${l==="all"?"bg-yellow-500/20 text-yellow-500 border border-yellow-500/30":"bg-zinc-800 text-white/60 border border-white/10"}`,children:"–í—Å–µ"})]}),d.jsx("button",{onClick:()=>g(!0),className:"w-full px-4 py-3 bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black font-semibold rounded-xl active:scale-95 transition-transform",children:"+ –°–æ–∑–¥–∞—Ç—å —Ä–æ–∑—ã–≥—Ä—ã—à"}),d.jsx("div",{className:"space-y-3",children:n.length===0?d.jsx("div",{className:"bg-zinc-900/30 backdrop-blur-sm rounded-xl p-8 border border-white/5 text-center",children:d.jsx("div",{className:"text-white/40",children:"–ù–µ—Ç —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π"})}):n.map(R=>{const P=u[R.id];return d.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-md rounded-xl p-4 border border-white/10 hover:bg-zinc-800/50 transition-colors",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h3",{className:"text-white font-bold",children:R.name}),A(R.status),R.is_recurring&&d.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs font-semibold rounded-lg border border-blue-500/30",children:"–ü–æ–≤—Ç–æ—Ä"})]}),d.jsx("p",{className:"text-white/60 text-sm",children:R.prize_description})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-white/50 text-xs mb-1",children:"–ü—Ä–∏–∑–æ–≤–æ–π —Ñ–æ–Ω–¥"}),d.jsxs("div",{className:"text-[#FFD700] font-bold text-lg",children:[R.jackpot.toLocaleString()," AR"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white/50 text-xs mb-1",children:"–¶–µ–Ω–∞ –±–∏–ª–µ—Ç–∞"}),d.jsxs("div",{className:"text-white font-semibold",children:[R.ticket_price_ar," AR"]})]})]}),P&&d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[d.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-2",children:[d.jsx("div",{className:"text-white/50 text-xs",children:"–ë–∏–ª–µ—Ç–æ–≤ –ø—Ä–æ–¥–∞–Ω–æ"}),d.jsx("div",{className:"text-white font-semibold",children:P.ticketsSold})]}),d.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-2",children:[d.jsx("div",{className:"text-white/50 text-xs",children:"–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤"}),d.jsx("div",{className:"text-white font-semibold",children:P.participants})]})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("div",{className:"text-white/50",children:[N(R.start_date)," ‚Äî ",N(R.end_date)]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>alert(`[MOCK] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–∑—ã–≥—Ä—ã—à ${R.id}`),className:"px-3 py-1.5 bg-zinc-700 text-white text-xs font-semibold rounded-lg active:scale-95 transition-transform",children:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"}),R.status==="active"&&d.jsx("button",{onClick:()=>C(R.id),className:"px-3 py-1.5 bg-red-500/20 text-red-500 text-xs font-semibold rounded-lg border border-red-500/30 active:scale-95 transition-transform",children:"–ó–∞–≤–µ—Ä—à–∏—Ç—å"})]})]})]},R.id)})}),p&&d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:d.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 w-full max-w-md border border-white/10",children:[d.jsx("h3",{className:"text-white text-lg font-bold mb-4",children:"–°–æ–∑–¥–∞—Ç—å —Ä–æ–∑—ã–≥—Ä—ã—à"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"–ù–∞–∑–≤–∞–Ω–∏–µ:"}),d.jsx("input",{type:"text",placeholder:"–†–æ–∑—ã–≥—Ä—ã—à 1000 AR",value:v.title,onChange:R=>w({...v,title:R.target.value}),className:"w-full px-4 py-3 bg-zinc-800 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-yellow-500/30"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"–ü—Ä–∏–∑–æ–≤–æ–π —Ñ–æ–Ω–¥ (AR):"}),d.jsx("input",{type:"number",placeholder:"5000",value:v.prize_ar,onChange:R=>w({...v,prize_ar:R.target.value}),className:"w-full px-4 py-3 bg-zinc-800 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-yellow-500/30"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"–¶–µ–Ω–∞ –±–∏–ª–µ—Ç–∞ (AR):"}),d.jsx("input",{type:"number",placeholder:"10",value:v.ticket_price,onChange:R=>w({...v,ticket_price:R.target.value}),className:"w-full px-4 py-3 bg-zinc-800 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-yellow-500/30"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–¥–Ω–µ–π):"}),d.jsx("input",{type:"number",placeholder:"7",value:v.days,onChange:R=>w({...v,days:R.target.value}),className:"w-full px-4 py-3 bg-zinc-800 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-yellow-500/30"})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{onClick:()=>{g(!1),w({title:"",prize_ar:"",ticket_price:"",days:"7"})},className:"flex-1 px-4 py-3 bg-zinc-800 text-white rounded-xl active:scale-95 transition-transform",children:"–û—Ç–º–µ–Ω–∞"}),d.jsx("button",{onClick:T,disabled:y||!v.title||!v.prize_ar||!v.ticket_price,className:"flex-1 px-4 py-3 bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black font-semibold rounded-xl active:scale-95 transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:y?"–°–æ–∑–¥–∞–Ω–∏–µ...":"–°–æ–∑–¥–∞—Ç—å"})]})]})})]})}function uR(){const[n,t]=j.useState([]),[a,i]=j.useState(!0),[l,c]=j.useState("all"),[u,f]=j.useState("all");j.useEffect(()=>{p()},[l,u]);const p=async()=>{try{i(!0);let v=oe.from("transactions").select("*, users(telegram_id, username)").order("created_at",{ascending:!1}).limit(100);l!=="all"&&(v=v.eq("currency",l)),u!=="all"&&(v=v.eq("type",u));const{data:w,error:S}=await v;S?(console.warn("Transactions table not found or error:",S),t([])):t(w||[])}catch(v){console.error("Error fetching transactions:",v),t([])}finally{i(!1)}},g=v=>({purchase:"–ü–æ–∫—É–ø–∫–∞",farm_income:"–§–µ—Ä–º–∞",giveaway_win:"–í—ã–∏–≥—Ä—ã—à",task_reward:"–ó–∞–¥–∞–Ω–∏–µ",referral:"–†–µ—Ñ–µ—Ä–∞–ª",spend:"–¢—Ä–∞—Ç–∞",admin_adjust:"–ê–¥–º–∏–Ω"})[v]||v,y=v=>{const S={purchase:"bg-green-500/20 text-green-500 border-green-500/30",farm_income:"bg-blue-500/20 text-blue-500 border-blue-500/30",giveaway_win:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",task_reward:"bg-purple-500/20 text-purple-500 border-purple-500/30",referral:"bg-pink-500/20 text-pink-500 border-pink-500/30",spend:"bg-red-500/20 text-red-500 border-red-500/30",admin_adjust:"bg-orange-500/20 text-orange-500 border-orange-500/30"}[v]||"bg-zinc-700/50 text-white/50 border-white/10";return d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-lg border ${S}`,children:g(v)})},b=v=>new Date(v).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return a?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("div",{className:"text-white/40",children:"–ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π..."})}):n.length===0&&l==="all"&&u==="all"?d.jsxs("div",{className:"bg-zinc-900/30 backdrop-blur-sm rounded-xl p-8 border border-white/5 text-center",children:[d.jsx("img",{src:"/icons/arcoin.png",alt:"Transactions",className:"w-10 h-10 mx-auto mb-2 opacity-40"}),d.jsx("div",{className:"text-white/60 text-base mb-2",children:"–¢–∞–±–ª–∏—Ü–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"}),d.jsxs("div",{className:"text-white/40 text-sm",children:["–°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É ",d.jsx("code",{className:"bg-zinc-800 px-2 py-1 rounded",children:"transactions"})," –≤ Supabase"]})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-white/50 text-xs mb-2 uppercase tracking-wide",children:"–í–∞–ª—é—Ç–∞:"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-colors ${l==="all"?"bg-yellow-500/20 text-yellow-500 border border-yellow-500/30":"bg-zinc-800 text-white/60 border border-white/10"}`,children:"–í—Å–µ"}),d.jsx("button",{onClick:()=>c("AR"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-colors ${l==="AR"?"bg-[#FFD700]/20 text-[#FFD700] border border-[#FFD700]/30":"bg-zinc-800 text-white/60 border border-white/10"}`,children:"AR"}),d.jsx("button",{onClick:()=>c("BUL"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-colors ${l==="BUL"?"bg-blue-500/20 text-blue-500 border border-blue-500/30":"bg-zinc-800 text-white/60 border border-white/10"}`,children:"BUL"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white/50 text-xs mb-2 uppercase tracking-wide",children:"–¢–∏–ø:"}),d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","purchase","farm_income","giveaway_win","task_reward","spend","admin_adjust"].map(v=>d.jsx("button",{onClick:()=>f(v),className:`px-3 py-1.5 rounded-lg font-semibold text-xs transition-colors whitespace-nowrap ${u===v?"bg-zinc-700 text-white border border-white/30":"bg-zinc-800 text-white/60 border border-white/10"}`,children:v==="all"?"–í—Å–µ":g(v)},v))})]})]}),d.jsx("div",{className:"bg-zinc-900/30 backdrop-blur-sm rounded-xl p-3 border border-white/5",children:d.jsxs("div",{className:"text-white/60 text-sm",children:["–ü–æ–∫–∞–∑–∞–Ω–æ: ",d.jsx("span",{className:"text-white font-semibold",children:n.length})," —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π"]})}),d.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-md rounded-xl border border-white/10 overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-white/10",children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-white/50 uppercase tracking-wide",children:"–î–∞—Ç–∞"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-white/50 uppercase tracking-wide",children:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-white/50 uppercase tracking-wide",children:"–¢–∏–ø"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-white/50 uppercase tracking-wide",children:"–°—É–º–º–∞"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-white/50 uppercase tracking-wide",children:"–û–ø–∏—Å–∞–Ω–∏–µ"})]})}),d.jsx("tbody",{children:n.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-white/40",children:"–ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π"})}):n.map(v=>d.jsxs("tr",{className:"border-b border-white/5 hover:bg-zinc-800/50 transition-colors",children:[d.jsx("td",{className:"px-4 py-3 text-sm text-white/60 whitespace-nowrap",children:b(v.created_at)}),d.jsx("td",{className:"px-4 py-3 text-sm text-white font-mono",children:v.users?.username||v.users?.telegram_id||`ID: ${v.user_id}`}),d.jsx("td",{className:"px-4 py-3",children:y(v.type)}),d.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold",children:[d.jsxs("span",{className:v.amount>=0?"text-green-500":"text-red-500",children:[v.amount>=0?"+":"",v.amount.toLocaleString()]}),d.jsxs("span",{className:v.currency==="AR"?"text-[#FFD700]":"text-blue-400",children:[" ",v.currency]})]}),d.jsx("td",{className:"px-4 py-3 text-sm text-white/60",children:v.description})]},v.id))})]})})})]})}function dR(){return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-zinc-900/30 backdrop-blur-sm rounded-xl p-8 border border-white/5 text-center",children:[d.jsx("img",{src:"/icons/icons/settings-gear.png",alt:"Settings",className:"w-12 h-12 mx-auto mb-3 opacity-40"}),d.jsx("div",{className:"text-white text-lg font-bold mb-2",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"}),d.jsx("div",{className:"text-white/60 text-sm",children:"–†–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"})]}),d.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-md rounded-xl p-4 border border-white/10",children:[d.jsx("div",{className:"text-white/50 text-sm mb-3 font-semibold",children:"–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:"}),d.jsxs("ul",{className:"space-y-2 text-white/60 text-sm",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-yellow-500",children:"‚Ä¢"}),d.jsx("span",{children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫–æ–Ω–æ–º–∏–∫–∏ (–∫—É—Ä—Å AR/BUL, —Ü–µ–Ω—ã —Å–∫–∏–Ω–æ–≤)"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-yellow-500",children:"‚Ä¢"}),d.jsx("span",{children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–ø–æ–±–µ–¥–∏—Ç–µ–ª—è–º —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π)"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-yellow-500",children:"‚Ä¢"}),d.jsx("span",{children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π (–º–∏–Ω. –±–∏–ª–µ—Ç—ã, % –¥–∂–µ–∫–ø–æ—Ç–∞)"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-yellow-500",children:"‚Ä¢"}),d.jsx("span",{children:"–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ (–æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∑–∞–¥–∞—á)"})]})]})]})]})}function hR(){const{telegramUser:n,isLoading:t}=dn(),a=Lt(),[i,l]=j.useState("dashboard"),[c,u]=j.useState({usersCount:0,activeGiveawaysCount:0,activePremiumClientsCount:0}),[f,p]=j.useState(!0),g=n?.id===190202791;j.useEffect(()=>{i==="dashboard"&&g&&y()},[i,g]);const y=async()=>{try{p(!0);const[b,v,w]=await Promise.all([oe.from("users").select("*",{count:"exact",head:!0}),oe.from("giveaways").select("*",{count:"exact",head:!0}).eq("status","active"),oe.from("premium_clients").select("*",{count:"exact",head:!0}).gt("expires_at",new Date().toISOString())]);u({usersCount:b.count||0,activeGiveawaysCount:v.count||0,activePremiumClientsCount:w.count||0})}catch(b){console.error("Error loading dashboard stats:",b)}finally{p(!1)}};return j.useEffect(()=>{if(window.Telegram?.WebApp){const b=window.Telegram.WebApp,v=()=>{i!=="dashboard"?l("dashboard"):a("/")};return b.BackButton.show(),b.BackButton.onClick(v),()=>{b.BackButton.offClick(v),b.BackButton.hide()}}},[a,i]),!t&&!g?d.jsx(He,{hideNavbar:!0,children:d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen px-4",style:{paddingTop:"80px"},children:[d.jsx("div",{className:"text-white/40 text-lg text-center font-bold tracking-widest uppercase",children:"–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω"}),d.jsx("button",{onClick:()=>a("/"),className:"mt-6 px-6 py-3 bg-zinc-800 text-white rounded-xl active:scale-95 transition-transform font-medium",children:"–ù–∞ –≥–ª–∞–≤–Ω—É—é"})]})}):i==="dashboard"?d.jsx(He,{hideNavbar:!0,children:d.jsx("div",{className:"min-h-screen bg-[#0a0a0a] text-white pt-[60px] pb-8 px-4",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-[#FFD700]",children:"Admin Panel"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("button",{onClick:()=>l("users"),className:"p-4 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-xl active:bg-zinc-800 transition-all flex flex-col items-center gap-3",children:[d.jsx("img",{src:"/icons/PARTNERS.png",alt:"Users",className:"w-8 h-8 object-contain"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-white font-medium",children:"–Æ–∑–µ—Ä—ã"}),d.jsx("div",{className:"text-white/60 text-sm",children:f?"...":`${c.usersCount} —é–∑–µ—Ä–æ–≤`})]})]}),d.jsxs("button",{onClick:()=>l("giveaways"),className:"p-4 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-xl active:bg-zinc-800 transition-all flex flex-col items-center gap-3",children:[d.jsx("img",{src:"/icons/GIVEAWAY.png",alt:"Giveaways",className:"w-8 h-8 object-contain"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-white font-medium",children:"–†–æ–∑—ã–≥—Ä—ã—à–∏"}),d.jsx("div",{className:"text-white/60 text-sm",children:f?"...":`${c.activeGiveawaysCount} –∞–∫—Ç–∏–≤–Ω—ã—Ö`})]})]}),d.jsxs("button",{onClick:()=>a("/crm"),className:"p-4 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-xl active:bg-zinc-800 transition-all flex flex-col items-center gap-3",children:[d.jsx("svg",{className:"w-8 h-8 text-[#FFD700]",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z"})}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-white font-medium",children:"–ü—Ä–µ–º–∏—É–º"}),d.jsx("div",{className:"text-white/60 text-sm",children:f?"...":`${c.activePremiumClientsCount} –∫–ª–∏–µ–Ω—Ç–æ–≤`})]})]}),d.jsxs("button",{onClick:()=>a("/event-admin"),className:"p-4 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-xl active:bg-zinc-800 transition-all flex flex-col items-center gap-3",children:[d.jsx("svg",{className:"w-8 h-8 text-[#FFD700]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-white font-medium",children:"–°–æ–±—ã—Ç–∏–µ 22.12"}),d.jsx("div",{className:"text-white/60 text-sm",children:"–ö—Ä–∏–ø—Ç–æ-–∏—Ç–æ–≥–∏ 2025"})]})]}),d.jsxs("button",{onClick:()=>l("transactions"),className:"p-4 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-xl active:bg-zinc-800 transition-all flex flex-col items-center gap-3",children:[d.jsx("img",{src:"/icons/arcoin.png",alt:"Finance",className:"w-8 h-8 object-contain"}),d.jsx("div",{className:"text-center",children:d.jsx("div",{className:"text-white font-medium",children:"–§–∏–Ω–∞–Ω—Å—ã"})})]}),d.jsxs("button",{onClick:()=>l("settings"),className:"p-4 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-xl active:bg-zinc-800 transition-all flex flex-col items-center gap-3",children:[d.jsx("img",{src:"/icons/icons/settings-gear.png",alt:"Settings",className:"w-8 h-8 object-contain"}),d.jsx("div",{className:"text-center",children:d.jsx("div",{className:"text-white font-medium",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"})})]})]})]})})}):d.jsx(He,{hideNavbar:!0,children:d.jsxs("div",{className:"flex flex-col min-h-screen bg-[#0a0a0a]",children:[d.jsx("div",{className:"sticky top-0 z-50 bg-[#0a0a0a]/95 backdrop-blur-xl border-b border-white/5",children:d.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>l("dashboard"),className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/10 text-white/60 active:scale-95 transition-all",children:d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),d.jsxs("h1",{className:"text-white font-bold tracking-wide text-lg flex items-center gap-2",children:[d.jsx("img",{src:"/icons/admin.png",alt:"Admin",className:"w-6 h-6"}),d.jsx("span",{className:"text-[#FFD700]",children:"Admin"})," Panel"]})]}),n&&d.jsxs("div",{className:"text-[10px] font-mono text-white/30 text-right",children:["ID: ",n.id]})]})}),d.jsx("div",{className:"flex-1 px-4 py-4",children:t?d.jsx("div",{className:"flex items-center justify-center h-40",children:d.jsx("div",{className:"text-[#FFD700] text-sm font-mono animate-pulse",children:"LOADING SYSTEM..."})}):d.jsxs("div",{children:[i==="users"&&d.jsx(oR,{}),i==="giveaways"&&d.jsx(cR,{}),i==="transactions"&&d.jsx(uR,{}),i==="settings"&&d.jsx(dR,{})]})})]})})}function fR(){const n=Lt();return j.useEffect(()=>{const t=setTimeout(()=>{n("/shop")},3e3);return()=>clearTimeout(t)},[n]),d.jsxs("div",{className:"fixed inset-0 bg-[#0a0a0a] flex flex-col items-center justify-center px-6",children:[d.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(circle at center, #1a1a1a 0%, #0a0a0a 70%)"}}),d.jsxs(be.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"relative z-10 flex flex-col items-center",children:[d.jsx(be.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mb-8",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#FFD700] to-[#FFA500] blur-3xl opacity-50 rounded-full"}),d.jsx(Wj,{className:"relative w-24 h-24 text-[#FFD700]",strokeWidth:2})]})}),d.jsx(be.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-3xl font-black text-white mb-3 text-center tracking-wide",children:"–û–ø–ª–∞—Ç–∞ —É—Å–ø–µ—à–Ω–∞!"}),d.jsx(be.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-lg text-white/60 mb-12 text-center",children:"AR –∑–∞—á–∏—Å–ª–µ–Ω—ã –Ω–∞ –≤–∞—à —Å—á—ë—Ç"}),d.jsx(be.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},whileTap:{scale:.95},onClick:()=>n("/shop"),className:"px-8 py-4 bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black font-bold text-lg rounded-xl shadow-lg shadow-yellow-500/30 hover:shadow-yellow-500/50 transition-shadow",children:"–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–∞–≥–∞–∑–∏–Ω"}),d.jsx(be.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-6 text-sm text-white/40",children:"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–æ–∑–≤—Ä–∞—Ç —á–µ—Ä–µ–∑ 3 —Å–µ–∫..."})]})]})}function mR(){const n=Lt(),{showToast:t}=hi(),[a,i]=j.useState("code"),[l,c]=j.useState(["","","",""]),[u,f]=j.useState(null),[p,g]=j.useState(!1),[y,b]=j.useState(null),[v,w]=j.useState(0),[S,E]=j.useState(!1),[A,N]=j.useState(1440*60),T=j.useRef([]),C=j.useRef(null),R=window.Telegram?.WebApp,P=R?.initDataUnsafe?.user?.id,X=R?.initDataUnsafe?.user?.username||R?.initDataUnsafe?.user?.first_name;j.useEffect(()=>{if(R){const $=()=>{a==="code"?n("/"):i(a==="wheel"?"code":"wheel")};return R.BackButton.show(),R.BackButton.onClick($),()=>{R.BackButton.offClick($),R.BackButton.hide()}}},[n,a,R]),j.useEffect(()=>{if(a==="result"&&y){const $=new Date(y.expires_at).getTime(),J=setInterval(()=>{const ee=Date.now(),he=Math.max(0,Math.floor(($-ee)/1e3));N(he)},1e3);return()=>clearInterval(J)}},[a,y]);const M=$=>{const J=Math.floor($/3600),ee=Math.floor($%3600/60),he=$%60;return`${String(J).padStart(2,"0")}:${String(ee).padStart(2,"0")}:${String(he).padStart(2,"0")}`},F=($,J)=>{if(!/^\d*$/.test(J))return;const ee=[...l];ee[$]=J.slice(-1),c(ee),f(null),J&&$<3&&T.current[$+1]?.focus()},Z=($,J)=>{J.key==="Backspace"&&!l[$]&&$>0&&T.current[$-1]?.focus()},ie=async()=>{const $=l.join("");if($.length!==4){f("–í–≤–µ–¥–∏—Ç–µ 4 —Ü–∏—Ñ—Ä—ã");return}g(!0),f(null);try{const{data:J,error:ee}=await oe.rpc("check_event_code",{input_code:$});if(ee)throw new Error(ee.message);const he=J;he.valid?(i("wheel"),t({variant:"success",title:"–ö–æ–¥ –≤–µ—Ä–Ω—ã–π!",description:"–ö—Ä—É—Ç–∏ –∫–æ–ª–µ—Å–æ –∏ –ø–æ–ª—É—á–∏ —Å–∫–∏–¥–∫—É"})):(f(he.error||"–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥"),t({variant:"error",title:"–û—à–∏–±–∫–∞",description:he.error||"–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥"}))}catch(J){const ee=J instanceof Error?J.message:"–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞";f(ee),t({variant:"error",title:"–û—à–∏–±–∫–∞",description:ee})}finally{g(!1)}},Ee=[10,15,10,20,15,10,25,15],ke=360/Ee.length,pe=async()=>{if(S||!P)return;E(!0),g(!0);const $=3e3+Math.random()*1e3,ee=(5+Math.random()*3)*360,he=v,O=Date.now(),G=()=>{const Q=Date.now()-O,W=Math.min(Q/$,1),ce=1-Math.pow(1-W,3),me=he+ee*ce;w(me),W<1&&requestAnimationFrame(G)};requestAnimationFrame(G),setTimeout(async()=>{try{const{data:Q,error:W}=await oe.rpc("generate_event_promocode",{p_telegram_id:P,p_username:X||null});if(W)throw new Error(W.message);const ce=Q,me=Ee.indexOf(ce.discount_percent);if(me!==-1){const xe=me*ke+ke/2,Xe=ee-ee%360+(360-xe);w(Xe)}b(ce),setTimeout(()=>{i("result"),E(!1),g(!1)},500)}catch(Q){const W=Q instanceof Error?Q.message:"–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞";t({variant:"error",title:"–û—à–∏–±–∫–∞",description:W}),E(!1),g(!1)}},$)},Re=()=>{y&&(navigator.clipboard.writeText(y.promocode),t({variant:"success",title:"–ü—Ä–æ–º–æ–∫–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!"}))},et=[{months:1,price:50,label:"1 –º–µ—Å—è—Ü"},{months:2,price:100,label:"2 –º–µ—Å—è—Ü–∞"},{months:3,price:135,label:"3 –º–µ—Å—è—Ü–∞",popular:!0}],q=($,J)=>Math.round($*(1-J/100));return d.jsx(He,{hideNavbar:!0,children:d.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white pt-[60px] pb-8 px-4",children:[a==="code"&&d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-120px)] gap-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center",children:"–í–≤–µ–¥–∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥"}),d.jsx("div",{className:"flex gap-3 justify-center",children:l.map(($,J)=>d.jsx("input",{ref:ee=>{T.current[J]=ee},type:"text",inputMode:"numeric",maxLength:1,value:$,onChange:ee=>F(J,ee.target.value),onKeyDown:ee=>Z(J,ee),className:"w-16 h-16 text-center text-2xl font-bold bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-lg text-white focus:border-yellow-500 focus:outline-none"},J))}),u&&d.jsx("div",{className:"text-red-400 text-sm text-center max-w-xs",children:u}),d.jsx("button",{onClick:ie,disabled:p||l.join("").length!==4,className:"px-8 py-4 bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:p?"–ü—Ä–æ–≤–µ—Ä–∫–∞...":"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥"})]}),a==="wheel"&&d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-120px)] gap-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-center",children:"–ö—Ä—É—Ç–∏ –∏ —É–∑–Ω–∞–π —Å–≤–æ—é —Å–∫–∏–¥–∫—É!"}),d.jsxs("div",{className:"relative w-80 h-80",children:[d.jsx("div",{ref:C,className:"relative w-full h-full rounded-full overflow-hidden border-4 border-yellow-500/30",style:{transform:`rotate(${v}deg)`,transition:S?"none":"transform 0.3s ease-out"},children:d.jsx("svg",{className:"w-full h-full",viewBox:"0 0 320 320",children:Ee.map(($,J)=>{const ee=J*ke,he=J%2===0,O=(ee-90)*(Math.PI/180),G=(ee+ke-90)*(Math.PI/180),Q=ke>180?1:0,W=160+160*Math.cos(O),ce=160+160*Math.sin(O),me=160+160*Math.cos(G),xe=160+160*Math.sin(G),Xe=(ee+ke/2-90)*(Math.PI/180),Be=160+100*Math.cos(Xe),I=160+100*Math.sin(Xe);return d.jsxs("g",{children:[d.jsx("path",{d:`M 160 160 L ${W} ${ce} A 160 160 0 ${Q} 1 ${me} ${xe} Z`,fill:he?"#1a1a1a":"#2a2a2a",stroke:"#0a0a0a",strokeWidth:"2"}),d.jsxs("text",{x:Be,y:I,textAnchor:"middle",dominantBaseline:"middle",className:"text-white font-bold text-lg fill-white",transform:`rotate(${ee+ke/2} ${Be} ${I})`,children:[$,"%"]})]},J)})})}),d.jsx("button",{onClick:pe,disabled:S||p,className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black font-bold rounded-full shadow-lg disabled:opacity-50 disabled:cursor-not-allowed z-10",children:S?"...":"–ö–†–£–¢–ò–¢–¨"}),d.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-0 h-0 border-l-[15px] border-r-[15px] border-t-[30px] border-t-yellow-500 border-l-transparent border-r-transparent z-20"})]})]}),a==="result"&&y&&d.jsxs("div",{className:"flex flex-col gap-8 max-w-md mx-auto",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –¢–≤–æ—è —Å–∫–∏–¥–∫–∞ ",y.discount_percent,"%"]}),d.jsxs("div",{className:"mt-6 p-6 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-lg",children:[d.jsx("div",{className:"text-sm text-white/60 mb-2",children:"–¢–≤–æ–π –ø—Ä–æ–º–æ–∫–æ–¥:"}),d.jsx("div",{className:"text-3xl font-bold text-[#FFD700] mb-4",children:y.promocode}),d.jsx("button",{onClick:Re,className:"w-full py-3 bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black font-bold rounded-lg",children:"–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å"})]}),d.jsxs("div",{className:"mt-4 text-sm text-white/60",children:["–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: ",d.jsx("span",{className:"text-[#FFD700] font-bold",children:M(A)})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-center",children:"–í—ã–±–µ—Ä–∏ —Ç–∞—Ä–∏—Ñ:"}),et.map($=>{const J=q($.price,y.discount_percent);return d.jsxs("div",{className:`p-4 bg-zinc-900/50 backdrop-blur-md border rounded-lg ${$.popular?"border-yellow-500/50":"border-yellow-500/20"}`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-lg",children:$.label}),$.popular&&d.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-500 px-2 py-1 rounded",children:"–•–ò–¢"})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-white/60 line-through text-sm",children:["$",$.price]}),d.jsxs("div",{className:"text-[#FFD700] font-bold text-xl",children:["$",J]})]})]}),d.jsxs("div",{className:"mt-3 flex gap-2",children:[d.jsx("button",{className:"flex-1 py-2 bg-zinc-800 border border-white/10 rounded-lg text-sm font-medium",children:"–ö–∞—Ä—Ç–∞ –†–§"}),d.jsx("button",{className:"flex-1 py-2 bg-zinc-800 border border-white/10 rounded-lg text-sm font-medium",children:"–î—Ä—É–≥–∞—è –∫–∞—Ä—Ç–∞"})]})]},$.months)})]})]})]})})}function pR(){const{telegramUser:n,isLoading:t}=dn(),a=Lt(),{showToast:i}=hi(),[l,c]=j.useState(null),[u,f]=j.useState(null),[p,g]=j.useState({codeEntered:0,wheelSpun:0,promocodesIssued:0}),[y,b]=j.useState(!0),[v,w]=j.useState(null),S=n?.id===190202791,E=async()=>{try{b(!0);const{data:T,error:C}=await oe.rpc("get_revealed_digits");C?console.error("Error loading status:",C):c(T);const{data:R,error:P}=await oe.from("event_codes").select("*").eq("event_date",new Date().toISOString().split("T")[0]).order("created_at",{ascending:!1}).limit(1).single();P?console.error("Error loading code:",P):(f(R),R&&c({digit_1:R.digit_1_revealed?R.digit_1:null,digit_2:R.digit_2_revealed?R.digit_2:null,digit_3:R.digit_3_revealed?R.digit_3:null,digit_4:R.digit_4_revealed?R.digit_4:null,wheel_active:R.wheel_active}));const[X,M,F]=await Promise.all([oe.from("event_participants").select("*",{count:"exact",head:!0}).eq("code_entered",!0),oe.from("event_participants").select("*",{count:"exact",head:!0}).eq("wheel_spun",!0),oe.from("event_promocodes").select("*",{count:"exact",head:!0})]);g({codeEntered:X.count||0,wheelSpun:M.count||0,promocodesIssued:F.count||0})}catch(T){console.error("Error loading data:",T),i({variant:"error",title:"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö"})}finally{b(!1)}};j.useEffect(()=>{if(!S)return;E();const T=setInterval(()=>{E()},5e3);return()=>clearInterval(T)},[S]);const A=async T=>{if(!v){w(`reveal-${T}`);try{const{data:C,error:R}=await oe.rpc("admin_reveal_digit",{digit_number:T});if(R)throw new Error(R.message);const P=C;if(P.success)i({variant:"success",title:`–¶–∏—Ñ—Ä–∞ ${T} –æ—Ç–∫—Ä—ã—Ç–∞`}),await E();else throw new Error(P.error||"–û—à–∏–±–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è —Ü–∏—Ñ—Ä—ã")}catch(C){const R=C instanceof Error?C.message:"–û—à–∏–±–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è —Ü–∏—Ñ—Ä—ã";i({variant:"error",title:"–û—à–∏–±–∫–∞",description:R})}finally{w(null)}}},N=async()=>{if(v||!l)return;const T=!l.wheel_active;w("toggle-wheel");try{const{data:C,error:R}=await oe.rpc("admin_toggle_wheel",{is_active:T});if(R)throw new Error(R.message);const P=C;if(P.success)i({variant:"success",title:T?"–†—É–ª–µ—Ç–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞":"–†—É–ª–µ—Ç–∫–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞"}),await E();else throw new Error(P.error||"–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä—É–ª–µ—Ç–∫–∏")}catch(C){const R=C instanceof Error?C.message:"–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä—É–ª–µ—Ç–∫–∏";i({variant:"error",title:"–û—à–∏–±–∫–∞",description:R})}finally{w(null)}};return j.useEffect(()=>{if(window.Telegram?.WebApp){const T=window.Telegram.WebApp,C=()=>a("/");return T.BackButton.show(),T.BackButton.onClick(C),()=>{T.BackButton.offClick(C),T.BackButton.hide()}}},[a]),!t&&!S?d.jsx(He,{hideNavbar:!0,children:d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen px-4",style:{paddingTop:"80px"},children:[d.jsx("div",{className:"text-white/40 text-lg text-center font-bold tracking-widest uppercase",children:"–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω"}),d.jsx("button",{onClick:()=>a("/"),className:"mt-6 px-6 py-3 bg-zinc-800 text-white rounded-xl active:scale-95 transition-transform font-medium",children:"–ù–∞ –≥–ª–∞–≤–Ω—É—é"})]})}):t||y?d.jsx(He,{hideNavbar:!0,children:d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"text-white text-xl",children:"–ó–∞–≥—Ä—É–∑–∫–∞..."})})}):d.jsx(He,{hideNavbar:!0,children:d.jsx("div",{className:"min-h-screen bg-[#0a0a0a] text-white pt-[60px] pb-8 px-4",children:d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–µ–º"}),d.jsx("button",{onClick:E,disabled:y,className:"px-4 py-2 bg-zinc-800 border border-white/10 rounded-lg text-sm disabled:opacity-50",children:"–û–±–Ω–æ–≤–∏—Ç—å"})]}),d.jsxs("div",{className:"p-6 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-lg",children:[d.jsx("h2",{className:"text-lg font-bold mb-4 text-[#FFD700]",children:"–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å"}),u?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-white/60 mb-2",children:"–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:"}),d.jsx("div",{className:"text-lg font-semibold",children:"–ö—Ä–∏–ø—Ç–æ-–∏—Ç–æ–≥–∏ 2025"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-white/60 mb-2",children:"–ö–æ–¥:"}),d.jsxs("div",{className:"flex gap-2 text-2xl font-bold",children:[u.digit_1_revealed?d.jsx("span",{className:"text-[#FFD700]",children:u.digit_1}):d.jsx("span",{className:"text-white/30",children:"?"}),u.digit_2_revealed?d.jsx("span",{className:"text-[#FFD700]",children:u.digit_2}):d.jsx("span",{className:"text-white/30",children:"?"}),u.digit_3_revealed?d.jsx("span",{className:"text-[#FFD700]",children:u.digit_3}):d.jsx("span",{className:"text-white/30",children:"?"}),u.digit_4_revealed?d.jsx("span",{className:"text-[#FFD700]",children:u.digit_4}):d.jsx("span",{className:"text-white/30",children:"?"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-white/60 mb-2",children:"–°—Ç–∞—Ç—É—Å —Ü–∏—Ñ—Ä:"}),d.jsx("div",{className:"flex gap-4",children:[1,2,3,4].map(T=>{const C=u[`digit_${T}_revealed`];return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm",children:["–¶–∏—Ñ—Ä–∞ ",T,":"]}),C?d.jsx("span",{className:"text-green-500",children:"‚úÖ –æ—Ç–∫—Ä—ã—Ç–∞"}):d.jsx("span",{className:"text-white/40",children:"üîí —Å–∫—Ä—ã—Ç–∞"})]},T)})})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-white/60 mb-2",children:"–†—É–ª–µ—Ç–∫–∞:"}),d.jsx("div",{className:"flex items-center gap-2",children:u.wheel_active?d.jsx("span",{className:"text-green-500",children:"üü¢ –≤–∫–ª—é—á–µ–Ω–∞"}):d.jsx("span",{className:"text-red-500",children:"üî¥ –≤—ã–∫–ª—é—á–µ–Ω–∞"})})]})]}):d.jsx("div",{className:"text-white/60",children:"–°–æ–±—ã—Ç–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"})]}),d.jsxs("div",{className:"p-6 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-lg",children:[d.jsx("h2",{className:"text-lg font-bold mb-4 text-[#FFD700]",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–æ–º"}),d.jsx("div",{className:"grid grid-cols-4 gap-3",children:[1,2,3,4].map(T=>{const C=u?.[`digit_${T}_revealed`],R=v===`reveal-${T}`;return d.jsx("button",{onClick:()=>A(T),disabled:C||R,className:"py-3 px-4 bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-zinc-800 disabled:text-white/60 disabled:from-transparent disabled:to-transparent",children:R?"...":`–û—Ç–∫—Ä—ã—Ç—å ${T}`},T)})})]}),d.jsxs("div",{className:"p-6 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-lg",children:[d.jsx("h2",{className:"text-lg font-bold mb-4 text-[#FFD700]",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä—É–ª–µ—Ç–∫–æ–π"}),d.jsx("button",{onClick:N,disabled:!l||v==="toggle-wheel",className:`w-full py-3 px-4 font-bold rounded-lg ${l?.wheel_active?"bg-red-600 hover:bg-red-700 text-white":"bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black"} disabled:opacity-50 disabled:cursor-not-allowed`,children:v==="toggle-wheel"?"...":l?.wheel_active?"–í—ã–∫–ª—é—á–∏—Ç—å —Ä—É–ª–µ—Ç–∫—É":"–í–∫–ª—é—á–∏—Ç—å —Ä—É–ª–µ—Ç–∫—É"})]}),d.jsxs("div",{className:"p-6 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-lg",children:[d.jsx("h2",{className:"text-lg font-bold mb-4 text-[#FFD700]",children:"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-white/80",children:"–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤–≤–µ–ª–æ –∫–æ–¥:"}),d.jsx("span",{className:"text-[#FFD700] font-bold text-xl",children:p.codeEntered})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-white/80",children:"–ö—Ä—É—Ç–∏–ª–∏ —Ä—É–ª–µ—Ç–∫—É:"}),d.jsx("span",{className:"text-[#FFD700] font-bold text-xl",children:p.wheelSpun})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-white/80",children:"–ü—Ä–æ–º–æ–∫–æ–¥–æ–≤ –≤—ã–¥–∞–Ω–æ:"}),d.jsx("span",{className:"text-[#FFD700] font-bold text-xl",children:p.promocodesIssued})]})]})]})]})})})}function gR(){const{telegramUser:n,isLoading:t}=dn(),a=Lt(),{showToast:i}=hi(),[l,c]=j.useState({active_clients:0,expiring_7d:0,total_revenue:0,avg_check:0}),[u,f]=j.useState([]),[p,g]=j.useState("all"),[y,b]=j.useState(!0),[v,w]=j.useState(null),[S,E]=j.useState(!1),[A,N]=j.useState(!1),[T,C]=j.useState(!1),[R,P]=j.useState(""),[X,M]=j.useState([]),[F,Z]=j.useState(null),[ie,Ee]=j.useState({telegram_id:"",username:"",tariff:"1month",amount:"",source:"manual"}),[ke,pe]=j.useState(""),[Re,et]=j.useState(30),q=n?.id===190202791,$=async()=>{try{b(!0);const{data:I,error:le}=await oe.rpc("get_crm_stats");le?(console.error("Error loading stats:",le),c({active_clients:0,expiring_7d:0,total_revenue:0,avg_check:0})):c(I),await J()}catch(I){console.error("Error loading data:",I),i({variant:"error",title:"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö"})}finally{b(!1)}},J=async()=>{try{let I=oe.from("premium_clients").select("*").order("expires_at",{ascending:!0});if(p==="active")I=I.gt("expires_at",new Date().toISOString());else if(p==="expiring_3d"){const tt=new Date;tt.setDate(tt.getDate()+3),I=I.gt("expires_at",new Date().toISOString()).lt("expires_at",tt.toISOString())}else p==="expired"?I=I.lt("expires_at",new Date().toISOString()):p==="vip"&&(I=I.contains("tags",["vip"]));const{data:le,error:Ne}=await I;if(Ne)console.error("Error loading clients:",Ne),f([]);else{const tt=(le||[]).map(Et=>{const vi=new Date(Et.expires_at),bi=new Date,ec=Math.ceil((vi.getTime()-bi.getTime())/(1e3*60*60*24));return{...Et,days_left:ec}});f(tt)}}catch(I){console.error("Error loading clients:",I),f([])}},ee=async I=>{try{const{data:le,error:Ne}=await oe.from("payment_history").select("*").eq("telegram_id",I).order("created_at",{ascending:!1});Ne?(console.error("Error loading payment history:",Ne),M([])):M(le||[])}catch(le){console.error("Error loading payment history:",le),M([])}};j.useEffect(()=>{q&&$()},[q,p]),j.useEffect(()=>{if(window.Telegram?.WebApp){const I=window.Telegram.WebApp,le=()=>a("/");return I.BackButton.show(),I.BackButton.onClick(le),()=>{I.BackButton.offClick(le),I.BackButton.hide()}}},[a]);const he=async I=>{w(I),pe(I.note||""),et(30),E(!0),await ee(I.telegram_id)},O=async I=>{if(!(!v||F)){Z(`add-${I}`);try{const{error:le}=await oe.rpc("add_premium_client",{telegram_id:v.telegram_id,username:v.username||null,days:I});if(le)throw new Error(le.message);i({variant:"success",title:`–î–æ–±–∞–≤–ª–µ–Ω–æ ${I} –¥–Ω–µ–π`}),await $(),await J();const Ne=u.find(tt=>tt.id===v.id);Ne&&w(Ne)}catch(le){const Ne=le instanceof Error?le.message:"–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–Ω–µ–π";i({variant:"error",title:"–û—à–∏–±–∫–∞",description:Ne})}finally{Z(null)}}},G=async()=>{if(!(!v||F)){Z("note");try{const{error:I}=await oe.from("premium_clients").update({note:ke}).eq("id",v.id);if(I)throw new Error(I.message);i({variant:"success",title:"–ó–∞–º–µ—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞"}),await J();const le=u.find(Ne=>Ne.id===v.id);le&&w({...le,note:ke})}catch(I){const le=I instanceof Error?I.message:"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏";i({variant:"error",title:"–û—à–∏–±–∫–∞",description:le})}finally{Z(null)}}},Q=async I=>{if(!(!v||F)){Z(`tag-${I}`);try{const le=v.tags||[];if(le.includes(I)){i({variant:"info",title:"–ú–µ—Ç–∫–∞ —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞"}),Z(null);return}const{error:Ne}=await oe.from("premium_clients").update({tags:[...le,I]}).eq("id",v.id);if(Ne)throw new Error(Ne.message);i({variant:"success",title:`–ú–µ—Ç–∫–∞ "${I}" –¥–æ–±–∞–≤–ª–µ–Ω–∞`}),await J();const tt=u.find(Et=>Et.id===v.id);tt&&w({...tt,tags:[...le,I]})}catch(le){const Ne=le instanceof Error?le.message:"–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–µ—Ç–∫–∏";i({variant:"error",title:"–û—à–∏–±–∫–∞",description:Ne})}finally{Z(null)}}},W=async()=>{if(!(!v||F)){Z("kick");try{const I=parseInt(v.telegram_id),Ne=await(await fetch("https://syxjkircmiwpnpagznay.supabase.co/functions/v1/telegram-channel",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN5eGpraXJjbWl3cG5wYWd6bmF5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3NjQ0MTEsImV4cCI6MjA3MzM0MDQxMX0.XUJWPrPOtsG_cynjfH38mJR2lJYThGTgEVMMu3MIw8g"},body:JSON.stringify({action:"kick",telegram_id:I})})).json();if(Ne.success){const{error:tt}=await oe.from("premium_clients").update({in_channel:!1,in_chat:!1}).eq("id",v.id);tt&&console.error("Error updating status:",tt),i({variant:"success",title:"–£–¥–∞–ª—ë–Ω –∏–∑ –∫–∞–Ω–∞–ª–∞ –∏ —á–∞—Ç–∞"}),await J(),w({...v,in_channel:!1,in_chat:!1})}else throw new Error(Ne.error||"–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è")}catch(I){const le=I instanceof Error?I.message:"–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è";i({variant:"error",title:"–û—à–∏–±–∫–∞",description:le})}finally{Z(null)}}},ce=async()=>{if(!(!v||F)){Z("invite");try{const I=parseInt(v.telegram_id),Ne=await(await fetch("https://syxjkircmiwpnpagznay.supabase.co/functions/v1/telegram-channel",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN5eGpraXJjbWl3cG5wYWd6bmF5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3NjQ0MTEsImV4cCI6MjA3MzM0MDQxMX0.XUJWPrPOtsG_cynjfH38mJR2lJYThGTgEVMMu3MIw8g"},body:JSON.stringify({action:"invite",telegram_id:I})})).json();if(Ne.success&&Ne.results?.channel?.result?.invite_link){const tt=Ne.results.channel.result.invite_link;P(tt),C(!0);const{error:Et}=await oe.from("premium_clients").update({in_channel:!0,in_chat:!0}).eq("id",v.id);Et&&console.error("Error updating status:",Et),i({variant:"success",title:"–°—Å—ã–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞"}),await J(),w({...v,in_channel:!0,in_chat:!0})}else throw new Error(Ne.error||"–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏")}catch(I){const le=I instanceof Error?I.message:"–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–≤–∞–π—Ç–∞";i({variant:"error",title:"–û—à–∏–±–∫–∞",description:le})}finally{Z(null)}}},me=async()=>{if(!(!ie.telegram_id||F)){Z("add-client");try{const le={"1month":30,"2months":60,"3months":90,"6months":180,"12months":365}[ie.tariff]||30,{error:Ne}=await oe.rpc("add_premium_client",{telegram_id:ie.telegram_id,username:ie.username||null,days:le});if(Ne)throw new Error(Ne.message);if(ie.amount){const{error:tt}=await oe.from("payment_history").insert({telegram_id:ie.telegram_id,amount:parseFloat(ie.amount),currency:"USD",source:ie.source});tt&&console.error("Error adding payment:",tt)}i({variant:"success",title:"–ö–ª–∏–µ–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω"}),N(!1),Ee({telegram_id:"",username:"",tariff:"1–º–µ—Å",amount:"",source:"manual"}),await $()}catch(I){const le=I instanceof Error?I.message:"–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞";i({variant:"error",title:"–û—à–∏–±–∫–∞",description:le})}finally{Z(null)}}},xe=I=>new Date(I).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit"}),Xe=I=>({manual:"–í—Ä—É—á–Ω—É—é",wheel:"–†—É–ª–µ—Ç–∫–∞",direct:"–ù–∞–ø—Ä—è–º—É—é",referral:"–†–µ—Ñ–µ—Ä–∞–ª"})[I]||I,Be=I=>({"1month":"1 –º–µ—Å—è—Ü","2months":"2 –º–µ—Å—è—Ü–∞","3months":"3 –º–µ—Å—è—Ü–∞","6months":"6 –º–µ—Å—è—Ü–µ–≤","12months":"12 –º–µ—Å—è—Ü–µ–≤"})[I]||I;return!t&&!q?d.jsx(He,{hideNavbar:!0,children:d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen px-4",style:{paddingTop:"80px"},children:[d.jsx("div",{className:"text-white/40 text-lg text-center font-bold tracking-widest uppercase",children:"–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω"}),d.jsx("button",{onClick:()=>a("/"),className:"mt-6 px-6 py-3 bg-zinc-800 text-white rounded-xl active:scale-95 transition-transform font-medium",children:"–ù–∞ –≥–ª–∞–≤–Ω—É—é"})]})}):t||y?d.jsx(He,{hideNavbar:!0,children:d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"text-white text-xl",children:"–ó–∞–≥—Ä—É–∑–∫–∞..."})})}):d.jsx(He,{hideNavbar:!0,children:d.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white pt-[60px] pb-8 px-4",children:[d.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"–ü—Ä–µ–º–∏—É–º –∫–ª–∏–µ–Ω—Ç—ã"}),d.jsx("button",{onClick:()=>N(!0),className:"w-10 h-10 bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black font-bold rounded-lg flex items-center justify-center",children:"+"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"p-4 bg-zinc-900/50 backdrop-blur-md border border-green-500/20 rounded-lg",children:[d.jsx("div",{className:"text-white/60 text-sm mb-1",children:"–ê–∫—Ç–∏–≤–Ω—ã—Ö"}),d.jsx("div",{className:"text-green-500 font-bold text-2xl",children:l.active_clients})]}),d.jsxs("div",{className:"p-4 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-lg",children:[d.jsx("div",{className:"text-white/60 text-sm mb-1",children:"–ò—Å—Ç–µ–∫–∞–µ—Ç 7–¥"}),d.jsx("div",{className:"text-yellow-500 font-bold text-2xl",children:l.expiring_7d})]}),d.jsxs("div",{className:"p-4 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-lg",children:[d.jsx("div",{className:"text-white/60 text-sm mb-1",children:"–í—ã—Ä—É—á–∫–∞"}),d.jsxs("div",{className:"text-[#FFD700] font-bold text-2xl",children:["$",l.total_revenue]})]}),d.jsxs("div",{className:"p-4 bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-lg",children:[d.jsx("div",{className:"text-white/60 text-sm mb-1",children:"–°—Ä. —á–µ–∫"}),d.jsxs("div",{className:"text-[#FFD700] font-bold text-2xl",children:["$",l.avg_check]})]})]}),d.jsx("div",{className:"flex gap-1.5 overflow-x-auto pb-2",children:["all","active","expiring_3d","expired","vip"].map(I=>d.jsx("button",{onClick:()=>g(I),className:`px-2.5 py-1 text-sm rounded-md font-medium whitespace-nowrap transition-all ${p===I?"bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black":"bg-zinc-800/70 text-white/60 hover:bg-zinc-700"}`,children:I==="all"?"–í—Å–µ":I==="active"?"–ê–∫—Ç–∏–≤–Ω—ã–µ":I==="expiring_3d"?"–ò—Å—Ç–µ–∫–∞–µ—Ç 3–¥":I==="expired"?"–ò—Å—Ç—ë–∫—à–∏–µ":"VIP"},I))}),d.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-md border border-yellow-500/20 rounded-lg overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-zinc-800/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white/80",children:"Username"}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white/80",children:"–¢–∞—Ä–∏—Ñ"}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white/80",children:"–ò—Å—Ç–µ–∫–∞–µ—Ç"}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white/80",children:"–î–Ω–µ–π"}),d.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-white/80",children:"–ö–∞–Ω–∞–ª"}),d.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-white/80",children:"–ß–∞—Ç"}),d.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-white/80",children:"–î–µ–π—Å—Ç–≤–∏—è"})]})}),d.jsx("tbody",{children:u.map(I=>d.jsxs("tr",{onClick:()=>he(I),className:"border-t border-white/5 hover:bg-zinc-800/30 cursor-pointer transition-colors",children:[d.jsxs("td",{className:"px-4 py-3",children:[d.jsx("div",{className:"font-medium",children:I.username||`@${I.telegram_id}`}),I.tags?.includes("vip")&&d.jsx("span",{className:"text-xs text-[#FFD700]",children:"[VIP]"})]}),d.jsx("td",{className:"px-4 py-3 text-white/80",children:Be(I.tariff)}),d.jsx("td",{className:"px-4 py-3 text-white/80",children:xe(I.expires_at)}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:I.days_left<7?"text-red-500 font-bold":"text-white/80",children:I.days_left})}),d.jsx("td",{className:"px-4 py-3 text-center",children:I.in_channel?"‚úÖ":"‚ùå"}),d.jsx("td",{className:"px-4 py-3 text-center",children:I.in_chat?"‚úÖ":"‚ùå"}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsx("span",{className:"text-white/40",children:"‚Ä¢‚Ä¢‚Ä¢"})})]},I.id))})]}),u.length===0&&d.jsx("div",{className:"p-8 text-center text-white/40",children:"–ù–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤"})]})})]}),S&&v&&d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 mx-4",children:d.jsxs("div",{className:"bg-zinc-900 rounded-2xl w-full max-w-md border border-yellow-500/20 max-h-[85vh] overflow-hidden flex flex-col pt-4 pb-[env(safe-area-inset-bottom,20px)]",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-b from-[#FFD700] to-[#FFA500] rounded-full flex items-center justify-center text-black font-bold text-lg",children:(v.username||v.telegram_id)[0]?.toUpperCase()}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-white",children:v.username?`@${v.username}`:"–ë–µ–∑ username"}),d.jsx("div",{className:"text-white/50 text-sm font-mono",children:v.telegram_id})]})]}),d.jsx("button",{onClick:()=>E(!1),className:"w-8 h-8 flex items-center justify-center text-white/60 hover:text-white text-2xl rounded-lg hover:bg-white/10",children:"√ó"})]}),d.jsxs("div",{className:"overflow-y-auto flex-1 p-4 space-y-4",children:[d.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-white/60 text-sm",children:"–ü–æ–¥–ø–∏—Å–∫–∞"}),d.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${v.days_left>7?"bg-green-500/20 text-green-400":v.days_left>0?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:v.days_left>0?`${v.days_left} –¥–Ω.`:"–ò—Å—Ç–µ–∫–ª–∞"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-white/40",children:"–î–æ:"})," ",d.jsx("span",{className:"text-white",children:xe(v.expires_at)})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-white/40",children:"–¢–∞—Ä–∏—Ñ:"})," ",d.jsx("span",{className:"text-white",children:Be(v.tariff)})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:`p-3 rounded-xl text-center ${v.in_channel?"bg-green-500/10 border border-green-500/30":"bg-zinc-800/50 border border-white/5"}`,children:[d.jsx("div",{className:"text-2xl mb-1",children:v.in_channel?"‚úÖ":"‚ùå"}),d.jsx("div",{className:"text-xs text-white/60",children:"–ö–∞–Ω–∞–ª"})]}),d.jsxs("div",{className:`p-3 rounded-xl text-center ${v.in_chat?"bg-green-500/10 border border-green-500/30":"bg-zinc-800/50 border border-white/5"}`,children:[d.jsx("div",{className:"text-2xl mb-1",children:v.in_chat?"‚úÖ":"‚ùå"}),d.jsx("div",{className:"text-xs text-white/60",children:"–ß–∞—Ç"})]})]}),d.jsx("div",{className:"p-3 bg-zinc-800/50 rounded-xl",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-white/60 text-sm",children:"–í—Å–µ–≥–æ –æ–ø–ª–∞—á–µ–Ω–æ"}),d.jsxs("span",{className:"text-[#FFD700] font-bold text-lg",children:["$",v.total_paid||0]})]})}),v.tags&&v.tags.length>0&&d.jsx("div",{className:"flex gap-2 flex-wrap",children:v.tags.map(I=>d.jsx("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-500 text-xs rounded-lg",children:I},I))}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white/60 text-xs mb-2 uppercase tracking-wide",children:"–î–æ–±–∞–≤–∏—Ç—å –¥–Ω–µ–π"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"range",min:"1",max:"365",value:Re,onChange:I=>et(parseInt(I.target.value)),className:"flex-1 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-[#FFD700]"}),d.jsxs("span",{className:"text-white font-medium text-sm min-w-[3rem] text-right",children:[Re," –¥–Ω."]}),d.jsx("button",{onClick:()=>O(Re),disabled:F===`add-${Re}`,className:"px-4 py-2 bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black font-bold rounded-lg disabled:opacity-50 active:scale-95 transition-transform text-sm whitespace-nowrap",children:F===`add-${Re}`?"...":"–î–æ–±–∞–≤–∏—Ç—å"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white/60 text-xs mb-2 uppercase tracking-wide",children:"–ë—ã—Å—Ç—Ä–æ"}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:[{label:"+1 –º–µ—Å",days:30},{label:"+2 –º–µ—Å",days:60},{label:"+3 –º–µ—Å",days:90},{label:"+6 –º–µ—Å",days:180},{label:"+12 –º–µ—Å",days:365}].map(({label:I,days:le})=>d.jsx("button",{onClick:()=>O(le),disabled:F===`add-${le}`,className:"px-3 py-1.5 bg-zinc-700 hover:bg-zinc-600 text-white text-sm rounded-lg disabled:opacity-50 transition-colors",children:F===`add-${le}`?"...":I},le))})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white/60 text-xs mb-2 uppercase tracking-wide",children:"–ö–∞–Ω–∞–ª"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("button",{onClick:()=>ce(),disabled:F==="invite",className:"py-2.5 bg-green-600 hover:bg-green-500 text-white font-semibold rounded-xl disabled:opacity-50 active:scale-95 transition-all text-sm",children:F==="invite"?"...":"–ò–Ω–≤–∞–π—Ç"}),d.jsx("button",{onClick:()=>W(),disabled:F==="kick",className:"py-2.5 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-xl disabled:opacity-50 active:scale-95 transition-all text-sm",children:F==="kick"?"...":"–ö–∏–∫–Ω—É—Ç—å"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white/60 text-xs mb-2 uppercase tracking-wide",children:"–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∫—É"}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:["VIP","–ø—Ä–æ–±–ª–µ–º–Ω—ã–π","–∑–∞–º–æ—Ä–æ–∂–µ–Ω"].map(I=>d.jsx("button",{onClick:()=>Q(I),disabled:F?.startsWith("tag-"),className:"px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 text-white text-sm rounded-lg disabled:opacity-50 transition-colors",children:I},I))})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white/60 text-xs mb-2 uppercase tracking-wide",children:"–ó–∞–º–µ—Ç–∫–∞"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:ke,onChange:I=>pe(I.target.value),placeholder:"–í–≤–µ–¥–∏—Ç–µ –∑–∞–º–µ—Ç–∫—É...",className:"flex-1 px-3 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-yellow-500/30 text-sm"}),d.jsx("button",{onClick:G,disabled:F==="note",className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 text-white font-medium rounded-lg disabled:opacity-50 text-sm transition-colors",children:F==="note"?"...":"OK"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white/60 text-xs mb-2 uppercase tracking-wide",children:"–ü–ª–∞—Ç–µ–∂–∏"}),d.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:X.length===0?d.jsx("div",{className:"text-white/40 text-sm p-3 bg-zinc-800/30 rounded-lg text-center",children:"–ù–µ—Ç –ø–ª–∞—Ç–µ–∂–µ–π"}):X.map(I=>d.jsxs("div",{className:"p-2 bg-zinc-800/50 rounded-lg flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-[#FFD700] font-medium",children:["$",I.amount]}),d.jsx("span",{className:"text-white/40 text-xs",children:xe(I.created_at)})]}),d.jsx("span",{className:"text-white/40 text-xs",children:Xe(I.source)})]},I.id))})]})]})]})}),A&&d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-start justify-center z-50 px-4 pt-[120px] pb-4 overflow-y-auto",children:d.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 w-full max-w-md border border-yellow-500/20 mb-4 max-h-[calc(100vh-8rem)] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-xl font-bold text-[#FFD700]",children:"–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞"}),d.jsx("button",{onClick:()=>N(!1),className:"text-white/60 hover:text-white text-2xl",children:"√ó"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"Telegram ID *"}),d.jsx("input",{type:"text",value:ie.telegram_id,onChange:I=>Ee({...ie,telegram_id:I.target.value}),placeholder:"123456789",className:"w-full px-4 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-yellow-500/30"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"Username"}),d.jsx("input",{type:"text",value:ie.username,onChange:I=>Ee({...ie,username:I.target.value}),placeholder:"@username",className:"w-full px-4 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-yellow-500/30"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"–¢–∞—Ä–∏—Ñ"}),d.jsxs("select",{value:ie.tariff,onChange:I=>Ee({...ie,tariff:I.target.value}),className:"w-full px-4 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white focus:outline-none focus:border-yellow-500/30",children:[d.jsx("option",{value:"1month",children:"1 –º–µ—Å—è—Ü"}),d.jsx("option",{value:"2months",children:"2 –º–µ—Å—è—Ü–∞"}),d.jsx("option",{value:"3months",children:"3 –º–µ—Å—è—Ü–∞"}),d.jsx("option",{value:"6months",children:"6 –º–µ—Å—è—Ü–µ–≤"}),d.jsx("option",{value:"12months",children:"12 –º–µ—Å—è—Ü–µ–≤"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"–°—É–º–º–∞ $"}),d.jsx("input",{type:"number",value:ie.amount,onChange:I=>Ee({...ie,amount:I.target.value}),placeholder:"50",className:"w-full px-4 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-yellow-500/30"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white/60 text-sm mb-2 block",children:"–ò—Å—Ç–æ—á–Ω–∏–∫"}),d.jsxs("select",{value:ie.source,onChange:I=>Ee({...ie,source:I.target.value}),className:"w-full px-4 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white focus:outline-none focus:border-yellow-500/30",children:[d.jsx("option",{value:"manual",children:"–í—Ä—É—á–Ω—É—é"}),d.jsx("option",{value:"wheel",children:"–†—É–ª–µ—Ç–∫–∞"}),d.jsx("option",{value:"direct",children:"–ù–∞–ø—Ä—è–º—É—é"}),d.jsx("option",{value:"referral",children:"–†–µ—Ñ–µ—Ä–∞–ª"})]})]}),d.jsx("button",{onClick:me,disabled:!ie.telegram_id||F==="add-client",className:"w-full py-3 bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:F==="add-client"?"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"})]})]})}),T&&d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:d.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 w-full max-w-md border border-yellow-500/20",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-[#FFD700]",children:"–ò–Ω–≤–∞–π—Ç-—Å—Å—ã–ª–∫–∞"}),d.jsx("button",{onClick:()=>{C(!1),P("")},className:"text-white/60 hover:text-white text-2xl",children:"√ó"})]}),d.jsx("p",{className:"text-white/60 text-sm mb-4",children:"–û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –∫–ª–∏–µ–Ω—Ç—É. –î–µ–π—Å—Ç–≤—É–µ—Ç 24 —á–∞—Å–∞, –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è."}),d.jsx("div",{className:"bg-zinc-800 rounded-lg p-3 mb-4",children:d.jsx("div",{className:"text-white font-mono text-sm break-all",children:R})}),d.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(R),i({variant:"success",title:"–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞"})}catch{i({variant:"error",title:"–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è"})}},className:"w-full py-3 bg-gradient-to-b from-[#FFD700] to-[#FFA500] text-black font-bold rounded-lg active:scale-95 transition-transform",children:"–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å"})]})})]})})}function yR(){return j.useEffect(()=>{const n=window.Telegram?.WebApp;if(n){if(n.ready(),n.expand(),typeof n.requestFullscreen=="function")try{n.requestFullscreen()}catch(t){console.warn("requestFullscreen not supported:",t)}n.setHeaderColor("#0a0a0a")}},[]),d.jsx($j,{children:d.jsx(Pj,{children:d.jsx(kj,{children:d.jsxs(lj,{children:[d.jsx(Ut,{path:"/",element:d.jsx($k,{})}),d.jsx(Ut,{path:"/skins",element:d.jsx(Ik,{})}),d.jsx(Ut,{path:"/shop",element:d.jsx(Kk,{})}),d.jsx(Ut,{path:"/farm",element:d.jsx(Qk,{})}),d.jsx(Ut,{path:"/profile",element:d.jsx(Yk,{})}),d.jsx(Ut,{path:"/giveaways",element:d.jsx(eR,{})}),d.jsx(Ut,{path:"/giveaway/:id",element:d.jsx(nR,{})}),d.jsx(Ut,{path:"/live-arena/:id",element:d.jsx(lR,{})}),d.jsx(Ut,{path:"/admin",element:d.jsx(hR,{})}),d.jsx(Ut,{path:"/payment-success",element:d.jsx(fR,{})}),d.jsx(Ut,{path:"/event-wheel",element:d.jsx(mR,{})}),d.jsx(Ut,{path:"/event-admin",element:d.jsx(pR,{})}),d.jsx(Ut,{path:"/crm",element:d.jsx(gR,{})})]})})})})}gS.createRoot(document.getElementById("root")).render(d.jsx(j.StrictMode,{children:d.jsx(yR,{})}));
