# üéÅ GIVEAWAYS ROADMAP

## –°—Ç–∞—Ç—É—Å: üü° –í —Ä–∞–±–æ—Ç–µ (40%)

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 12.12.2025

---

## üìä –û–ë–©–ò–ô –ü–†–û–ì–†–ï–°–°

```
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  40%
```

- ‚úÖ –ì–æ—Ç–æ–≤–æ: UI —Å—Ç—Ä–∞–Ω–∏—Ü, –º–µ—Ö–∞–Ω–∏–∫–∞ –æ–ø–∏—Å–∞–Ω–∞
- üîÑ –í —Ä–∞–±–æ—Ç–µ: SQL –º–∏–≥—Ä–∞—Ü–∏—è, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è RPC
- ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ: Admin UserManager, –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## ‚úÖ –ì–û–¢–û–í–û

### UI/UX
- [x] **GiveawaysPage** ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π
  - –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –ø—Ä–µ–≤—å—é, –Ω–∞–∑–≤–∞–Ω–∏–µ–º, –ø—Ä–∏–∑–æ–≤—ã–º —Ñ–æ–Ω–¥–æ–º
  - –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (active/finished)
  - –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

- [x] **GiveawayPage** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–æ–∑—ã–≥—Ä—ã—à–∞
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–∑–∞—Ö
  - –ü–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–æ–≤
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –¢–∞–π–º–µ—Ä –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è

- [x] **LiveArena** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–æ–∑—ã–≥—Ä—ã—à–∞
  - –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç–∫–∞ –±–∏–ª–µ—Ç–æ–≤
  - –í—ã–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤
  - –°–ø–∏—Å–æ–∫ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π

### –ú–µ—Ö–∞–Ω–∏–∫–∞
- [x] **Auto-Clone** ‚Äî –º–µ—Ö–∞–Ω–∏–∫–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
  - –†–æ–∑—ã–≥—Ä—ã—à —Å `is_recurring = true` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–ª–æ–Ω–∏—Ä—É–µ—Ç—Å—è
  - –ù–æ–≤—ã–π —Ä–æ–∑—ã–≥—Ä—ã—à —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–∞ `duration_days` –≤–ø–µ—Ä—ë–¥
  - –î–∂–µ–∫–ø–æ—Ç –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –∏–ª–∏ –æ–±–Ω—É–ª—è–µ—Ç—Å—è (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)

- [x] **–î–∂–µ–∫–ø–æ—Ç** ‚Äî –º–µ—Ö–∞–Ω–∏–∫–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
  - `jackpot_percentage`% –æ—Ç –∫–∞–∂–¥–æ–π –ø–æ–∫—É–ø–∫–∏ –±–∏–ª–µ—Ç–∞ ‚Üí –¥–∂–µ–∫–ø–æ—Ç
  - –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–æ–∑—ã–≥—Ä—ã—à–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –º–µ—Å—Ç–∞–º
  - –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] **specs/GIVEAWAYS-SPEC.md** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
  - –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö RPC —Ñ—É–Ω–∫—Ü–∏–π
  - –õ–æ–≥–∏–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –¥–∂–µ–∫–ø–æ—Ç–∞
  - –ú–µ—Ö–∞–Ω–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

## üîÑ –í –†–ê–ë–û–¢–ï

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] **SQL –º–∏–≥—Ä–∞—Ü–∏—è** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
  - `buy_giveaway_ticket_v2(telegram_id, giveaway_id, count)`
    - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ AR
    - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –±–∏–ª–µ—Ç–æ–≤
    - –°–ø–∏—Å–∞–Ω–∏–µ AR + –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∂–µ–∫–ø–æ—Ç–∞
  - `clone_giveaway(old_giveaway_id)`
    - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ä–æ–∑—ã–≥—Ä—ã—à–∞
    - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å –Ω–æ–≤—ã–º–∏ –¥–∞—Ç–∞–º–∏
  - `generate_giveaway_result(giveaway_id)`
    - –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
    - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∂–µ–∫–ø–æ—Ç–∞
    - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] **–ü–æ–¥–∫–ª—é—á–∏—Ç—å –ø–æ–∫—É–ø–∫—É –±–∏–ª–µ—Ç–æ–≤ –∫ RPC**
  - –í `GiveawayPage.tsx` –∑–∞–º–µ–Ω–∏—Ç—å mock –Ω–∞ `supabase.rpc()`
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ AR, —Ä–æ–∑—ã–≥—Ä—ã—à –∑–∞–∫—Ä—ã—Ç)
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏

---

## ‚è≥ –ó–ê–ü–õ–ê–ù–ò–†–û–í–ê–ù–û

### –ê–¥–º–∏–Ω–∫–∞
- [ ] **UserManager –≤ –∞–¥–º–∏–Ω–∫–µ**
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –ü–æ–∏—Å–∫ –ø–æ telegram_id / username
  - –†—É—á–Ω–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ AR/BUL
  - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- [ ] **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Ä–æ–∑—ã–≥—Ä—ã—à–∞ –ø–æ —Ç–∞–π–º–µ—Ä—É**
  - pg_cron –∑–∞–¥–∞—á–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `end_date`
  - –í—ã–∑—ã–≤–∞–µ—Ç `generate_giveaway_result()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  - –ï—Å–ª–∏ `is_recurring = true` ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç `clone_giveaway()`

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è–º**
  - Telegram Bot API –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
  - –¢–µ–∫—Å—Ç: "–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ X –º–µ—Å—Ç–æ! –ü—Ä–∏–∑: Y AR"
  - –ö–Ω–æ–ø–∫–∞ "–ó–∞–±—Ä–∞—Ç—å –ø—Ä–∏–∑" (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –∫–ª–µ–π–º)

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- [ ] **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π –≤ –∞–¥–º–∏–Ω–∫–µ**
  - –°–∫–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–Ω–æ –±–∏–ª–µ—Ç–æ–≤
  - –û–±—â–∏–π –¥–∂–µ–∫–ø–æ—Ç
  - –¢–æ–ø-–ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –±–∏–ª–µ—Ç–æ–≤
  - –ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–¥–∞–∂ –ø–æ –≤—Ä–µ–º–µ–Ω–∏

---

## üêõ –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

| –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|----------|-----------|--------|
| –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –¥—É–±–ª–∏ –Ω–æ–º–µ—Ä–æ–≤ –±–∏–ª–µ—Ç–æ–≤ | –°—Ä–µ–¥–Ω–∏–π | ‚è≥ –ù—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è |
| UI –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ –±–∏–ª–µ—Ç–∞ | –í—ã—Å–æ–∫–∏–π | üîÑ –í —Ä–∞–±–æ—Ç–µ |
| –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–∫–∏ "–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ AR" | –°—Ä–µ–¥–Ω–∏–π | ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ |

---

## üìù –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –¢–∞–±–ª–∏—Ü—ã
```sql
giveaways
‚îú‚îÄ‚îÄ id (PK)
‚îú‚îÄ‚îÄ name
‚îú‚îÄ‚îÄ prize_description
‚îú‚îÄ‚îÄ ticket_price_ar
‚îú‚îÄ‚îÄ jackpot_percentage
‚îú‚îÄ‚îÄ is_recurring
‚îú‚îÄ‚îÄ duration_days
‚îú‚îÄ‚îÄ start_date
‚îî‚îÄ‚îÄ end_date

giveaway_tickets
‚îú‚îÄ‚îÄ id (PK)
‚îú‚îÄ‚îÄ giveaway_id (FK ‚Üí giveaways)
‚îú‚îÄ‚îÄ user_id (FK ‚Üí users)
‚îú‚îÄ‚îÄ ticket_number (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤ —Ä–∞–º–∫–∞—Ö —Ä–æ–∑—ã–≥—Ä—ã—à–∞)
‚îî‚îÄ‚îÄ purchased_at

giveaway_results
‚îú‚îÄ‚îÄ id (PK)
‚îú‚îÄ‚îÄ giveaway_id (FK ‚Üí giveaways)
‚îú‚îÄ‚îÄ user_id (FK ‚Üí users)
‚îú‚îÄ‚îÄ place (1, 2, 3, ...)
‚îî‚îÄ‚îÄ prize_ar
```

### RPC —Ñ—É–Ω–∫—Ü–∏–∏
–î–µ—Ç–∞–ª–∏ –≤ [specs/GIVEAWAYS-SPEC.md](../specs/GIVEAWAYS-SPEC.md)

---

## üìö LEGACY REFERENCE

–°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è (vanilla JS):
```
~/Desktop/AR ARENA VANILA –í–ï–†–°–ò–Ø/
‚îú‚îÄ‚îÄ giveaway.html     ‚Üê –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ livearena.html    ‚Üê –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îî‚îÄ‚îÄ giveaways.html    ‚Üê –°–ø–∏—Å–æ–∫ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π (–µ—Å–ª–∏ –µ—Å—Ç—å)
```

–ò—Å–ø–æ–ª—å–∑—É–π –∫–∞–∫ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å –¥–ª—è:
- UI/UX –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- –ê–Ω–∏–º–∞—Ü–∏–π LiveArena
- –¢–µ–∫—Å—Ç–æ–≤ –∏ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **SQL –º–∏–≥—Ä–∞—Ü–∏—è** ‚Äî —Å–æ–∑–¥–∞—Ç—å/–ø—Ä–æ–≤–µ—Ä–∏—Ç—å RPC —Ñ—É–Ω–∫—Ü–∏–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –≤—ã—Å–æ–∫–∏–π)
2. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å RPC** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ GiveawayPage.tsx
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –ø–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∂–µ–∫–ø–æ—Ç–∞
4. **UserManager** ‚Äî –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
5. **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫** ‚Äî pg_cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π

---

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ:**
- Backend (SQL/RPC): –ê–Ω—è
- Frontend (React): –í–∞–ª–µ—Ä–∞
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è: –ê–ª–µ–∫—Å–∞–Ω–¥—Ä
