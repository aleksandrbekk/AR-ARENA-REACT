# ๐พ FARM ROADMAP

## ะกัะฐััั: ๐ก ะ ัะฐะฑะพัะต (40%)

**ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต:** 12.12.2025

---

## ๐ ะะะฉะะ ะะะะะะะกะก

```
โโโโโโโโโโโโโโโโโโโโ  40%
```

- โ ะะพัะพะฒะพ: RPC ััะฝะบัะธะธ, FarmPage UI (ะฑะฐะทะพะฒัะน), ะผะตัะฐะฝะธะบะฐ ะพะฟะธัะฐะฝะฐ
- ๐ ะ ัะฐะฑะพัะต: ะะฐััะธะฝะบะธ ะปะพะบะฐัะธะน, ัะฐะฑะปะธัั ะะ
- โณ ะะฐะฟะปะฐะฝะธัะพะฒะฐะฝะพ: ะะธะดะตัะฑะพัะด, ะฑััั ัะบะธะฝะพะฒ, ะฝะตะดะตะปัะฝัะน ัะฑัะพั

---

## ๐ฏ ะะะะฆะะะฆะะฏ

**ะคะตัะผะฐ = ะะฐััะธะฒะฝัะน ะดะพัะพะด + ะะตะดะตะปัะฝัะน ะปะธะดะตัะฑะพัะด**

### ะฆะธะบะป ะธะณัะพะบะฐ:
1. ะะพะบัะฟะฐะตัั ะพะฑะพััะดะพะฒะฐะฝะธะต ะทะฐ BUL โ ัะฐะทะผะตัะฐะตัั ะฒ ัะปะพัั ะปะพะบะฐัะธะธ
2. ะะฑะพััะดะพะฒะฐะฝะธะต ะณะตะฝะตัะธั BUL/ัะฐั (ะฟะฐััะธะฒะฝะพ)
3. ะะผััั "ะกะะะะะขะฌ" โ BUL ะธะดัั **ะธ ะฝะฐ ะฑะฐะปะฐะฝั, ะธ ะฒ ัะตะนัะธะฝะณ ะฝะตะดะตะปะธ**
4. ะขะพะฟ-100 ะฝะตะดะตะปะธ ะฟะพะปััะฐัั AR + ะพัะผััะบะธ
5. ะกะตะทะพะฝ = 1 ะฝะตะดะตะปั (ัะธะฝััะพะฝ ั ะปะพัะตัะตะตะน)

### ะะปััะตะฒัะต ะฟะฐัะฐะผะตััั:
- **ะะธะผะธั ะฝะฐะบะพะฟะปะตะฝะธั:** 4 ัะฐัะฐ (ะฝะฐะดะพ ะทะฐัะพะดะธัั ัะพะฑะธัะฐัั)
- **ะะตัะตัะฐะปั:** 10% L1, 5% L2 ะพั ัะฑะพัะฐ
- **ะกะตะทะพะฝ:** ะะพัะบัะตัะตะฝัะต 00:00 UTC โ ัะฑัะพั + ะฟัะธะทั

---

## ๐๏ธ ะะะะะฆะะ

| # | ะะพะบะฐัะธั | Slug | ะฆะตะฝะฐ BUL | ะกะปะพัั | ะะฐะทะฑะปะพะบ |
|---|---------|------|----------|-------|---------|
| 1 | ะะฑัะฐะณะฐ | `dorm` | ะะตัะฟะปะฐัะฝะพ | 3 | โ |
| 2 | ะกััะผะฝะฐั ะบะฒะฐััะธัะฐ | `apartment` | 50,000 | 5 | Lvl 5 |
| 3 | ะัะธั | `office` | 200,000 | 8 | Lvl 10 |
| 4 | ะัะธะฟัะพ-ัะตัะผะฐ | `farm` | 1,000,000 | 12 | Lvl 20 |

**ะะบะพะฝะบะธ:** `/public/icons/locations/{slug}.png`

---

## โ๏ธ ะะะะะฃะะะะะะะ

| ะขะธะฟ | Slug | ะะพัะพะด/ัะฐั | ะฆะตะฝะฐ BUL | ะะฐะบั Lvl |
|-----|------|-----------|----------|----------|
| USB Miner | `usb_miner` | 10 | 1,000 | 10 |
| GPU Rig | `gpu_rig` | 50 | 10,000 | 10 |
| ASIC | `asic` | 200 | 50,000 | 10 |
| Server Rack | `server_rack` | 500 | 150,000 | 10 |
| Mining Container | `mining_container` | 1,500 | 500,000 | 10 |

**ะะฟะณัะตะนะด:** +20% ะบ ะดะพัะพะดั ะทะฐ ะบะฐะถะดัะน ััะพะฒะตะฝั
**ะคะพัะผัะปะฐ:** `income = base_income * 1.2^(level - 1)`

---

## ๐ ะะฃะกะข ะะข AR-ะกะะะะะ

| ะกะบะธะฝ | ะฆะตะฝะฐ AR | ะะฝะพะถะธัะตะปั ัะตัะผั |
|------|---------|-----------------|
| Lawyer | 100 | x1.05 |
| Banker | 500 | x1.15 |
| Politician | 2,000 | x1.35 |
| Crypto Bro | 5,000 | x1.60 |
| LOKI | 15,000 | x2.00 |

**ะกะฒัะทั:** ะัะตะผะธัะผ ัะบะธะฝั ะดะฐัั `farm_bonus` ะผะฝะพะถะธัะตะปั ะบ ะดะพัะพะดั!

---

## ๐ ะะะะะะะะะ (ะฝะตะดะตะปัะฝัะน)

| ะะตััะพ | ะะฐะณัะฐะดะฐ |
|-------|---------|
| ๐ฅ 1 | 500 AR + Exclusive Skin + 10 ะพัะผััะตะบ |
| ๐ฅ 2 | 300 AR + 5 ะพัะผััะตะบ |
| ๐ฅ 3 | 200 AR + 3 ะพัะผััะบะธ |
| 4-10 | 100 AR + 2 ะพัะผััะบะธ |
| 11-50 | 50 AR + 1 ะพัะผััะบะฐ |
| 51-100 | 20 AR |

**ะะตััะธะบะฐ:** `farm_collected_weekly` โ ััะผะผะฐ ัะพะฑัะฐะฝะฝะพะณะพ ะทะฐ ะฝะตะดะตะปั
**ะกะฑัะพั:** ะะพัะบัะตัะตะฝัะต 00:00 UTC (pg_cron)

---

## โ ะะะขะะะ

### RPC ััะฝะบัะธะธ (ะะะฏ) โ
- [x] `get_farm_state(p_telegram_id)` โ ะฟะพะปะฝะพะต ัะพััะพัะฝะธะต
- [x] `claim_farm_income(p_telegram_id)` โ ัะฑะพั ะดะพัะพะดะฐ (ะผะฐะบั 4ั)
- [x] `purchase_equipment(p_telegram_id, p_equipment_slug)` โ ะฟะพะบัะฟะบะฐ
- [x] `upgrade_equipment(p_telegram_id, p_equipment_slug)` โ ะฐะฟะณัะตะนะด

### UI (ะะะะฏ) โ
- [x] `src/pages/FarmPage.tsx` โ ะฑะฐะทะพะฒะฐั ัััะฐะฝะธัะฐ
- [x] LocationCard ั ะบะฝะพะฟะบะพะน "ะกะผะตะฝะธัั"
- [x] StatsPanel (ะดะพัะพะด/ัะฐั, ะฝะฐะบะพะฟะปะตะฝะพ, ะฟัะพะณัะตัั-ะฑะฐั)
- [x] ะะฝะพะฟะบะฐ "ะกะะะะะขะฌ" (ะทะพะปะพัะพะน ะณัะฐะดะธะตะฝั)
- [x] EquipmentCard (Buy/Upgrade/MAX)

---

## ๐ ะ ะะะะะขะ

### ะะฐััะธะฝะบะธ ะปะพะบะฐัะธะน (Gemini)
- [ ] `dorm.png` โ ะะฑัะฐะณะฐ
- [ ] `apartment.png` โ ะกััะผะฝะฐั ะบะฒะฐััะธัะฐ
- [ ] `office.png` โ ะัะธั
- [ ] `farm.png` โ ะัะธะฟัะพ-ัะตัะผะฐ

**ะกัะฐััั:** ะัะฟัะฐะฒะปะตะฝ ะฟัะพะผั, ะถะดัะผ ัะตะทัะปััะฐั

### ะขะฐะฑะปะธัั ะะ (ะะะฏ)
- [ ] `locations` โ 4 ะปะพะบะฐัะธะธ
- [ ] `equipment` โ 5 ัะธะฟะพะฒ ะพะฑะพััะดะพะฒะฐะฝะธั
- [ ] `user_locations` โ ะฒะปะฐะดะตะฝะธะต ะปะพะบะฐัะธัะผะธ
- [ ] `user_equipment` โ ะฒะปะฐะดะตะฝะธะต + ััะพะฒะตะฝั

---

## โณ ะะะะะะะะะะะะะ

### 7.1 ะะะฏ: ะขะฐะฑะปะธัั ัะตัะผั
- [ ] ะกะพะทะดะฐัั ัะฐะฑะปะธัั ะตัะปะธ ะฝะต ัััะตััะฒััั
- [ ] ะะฐะฟะพะปะฝะธัั ะฝะฐัะฐะปัะฝัะต ะดะฐะฝะฝัะต (locations, equipment)
- [ ] ะะพะปะพะฝะบะฐ `users.farm_collected_weekly`

### 7.2 ะะะฏ: ะะธะดะตัะฑะพัะด
- [ ] ะขะฐะฑะปะธัะฐ `farm_leaderboard` ะธะปะธ view
- [ ] RPC `get_farm_leaderboard(limit)` โ ัะพะฟ-100
- [ ] pg_cron ะดะปั ะฝะตะดะตะปัะฝะพะณะพ ัะฑัะพัะฐ

### 7.3 ะะะฏ: ะะตะดะตะปัะฝัะน ัะฑัะพั
- [ ] pg_cron job: ะบะฐะถะดะพะต ะฒะพัะบัะตัะตะฝัะต 00:00 UTC
- [ ] ะะฐัะฟัะตะดะตะปะตะฝะธะต ะฟัะธะทะพะฒ ัะพะฟ-100
- [ ] ะะฑะฝัะปะตะฝะธะต `farm_collected_weekly`
- [ ] ะกะธะฝััะพะฝ ั ะปะพัะตัะตะตะน

### 7.4 ะะะะฏ: ะััั ัะบะธะฝะฐ
- [ ] ะัะธะผะตะฝะธัั `farm_bonus` ะพั ะฐะบัะธะฒะฝะพะณะพ AR-ัะบะธะฝะฐ
- [ ] ะะพะบะฐะทะฐัั ะผะฝะพะถะธัะตะปั ะฒ UI

### 7.5 ะะะะะะ: useFarm ััะบ
- [ ] `getFarmStatus()` โ ะธะฝัะตะณัะฐัะธั ั RPC
- [ ] `claimFarm()` โ ัะฑะพั
- [ ] `buyEquipment()` โ ะฟะพะบัะฟะบะฐ
- [ ] `upgradeEquipment()` โ ะฐะฟะณัะตะนะด
- [ ] `getLeaderboard()` โ ัะพะฟ-100

### 7.6 ะะะะฏ: LeaderboardSection
- [ ] ะะพะผะฟะพะฝะตะฝั ัะพะฟ-100 ะฝะตะดะตะปะธ
- [ ] ะะพะทะธัะธั ัะตะบััะตะณะพ ะธะณัะพะบะฐ
- [ ] ะขะฐะนะผะตั ะดะพ ัะฑัะพัะฐ

### 7.7 ะขะะกะข: ะะพะปะฝัะน ัะธะบะป
- [ ] ะัะฟะธัั ะพะฑะพััะดะพะฒะฐะฝะธะต
- [ ] ะะพะถะดะฐัััั ะฝะฐะบะพะฟะปะตะฝะธั
- [ ] ะกะพะฑัะฐัั ะดะพัะพะด
- [ ] ะัะพะฒะตัะธัั ะปะธะดะตัะฑะพัะด
- [ ] ะะพะถะดะฐัััั ัะฑัะพัะฐ ะฝะตะดะตะปะธ
- [ ] ะัะพะฒะตัะธัั ะฟัะธะทั

---

## ๐ ะญะะะะะะะะ

### F2P (2 ะฝะตะดะตะปะธ ะธะณัั):
- Common ัะบะธะฝ, ะะฑัะฐะณะฐ, 3ร USB Miner Lvl 5
- = 45 BUL/ัะฐั = **7,560 BUL/ะฝะตะดะตะปั**

### ะะพะฝะฐัะตั:
- Epic ัะบะธะฝ (x1.35), ะัะธั, 5ร ASIC Lvl 8 + 3ร Server Rack Lvl 5
- = 4,680 BUL/ัะฐั ร 1.35 = **~786,000 BUL/ะฝะตะดะตะปั**

**ะะฐะทะฝะธัะฐ:** ~100x ะผะตะถะดั F2P ะธ ะดะพะฝะฐัะตัะพะผ

---

## ๐ ะกะะฏะะ

```
โโโโโโโโโโโโโโโ
โ   ะกะะะะซ     โ โโโโ farm_bonus ะผะฝะพะถะธัะตะปั
โโโโโโโฌโโโโโโโโ
      โ
      โผ
โโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโ
โ   ะคะะะะ     โ โโโโ โ ะะะะะะะะะ   โ
โ (ะฟะฐััะธะฒะฝัะน) โ      โ  (ะฝะตะดะตะปัะฝัะน)โ
โโโโโโโฌโโโโโโโโ      โโโโโโโโฌโโโโโโโ
      โ                     โ
      โผ                     โผ
โโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโ
โ  ะะะะะะก     โ      โ   ะะะะะซ     โ
โ   BUL       โ      โ AR+ะพัะผััะบะธ  โ
โโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโ
      โ
      โผ
โโโโโโโโโโโโโโโ
โ ะะะคะะะะะซ   โ โโโโ 10% L1, 5% L2
โโโโโโโโโโโโโโโ
```

---

## ๐ ะะะคะะะะะกะซ

- **Legacy ะบะพะด:** `~/Desktop/AR ARENA VANILA ะะะะกะะฏ/farm.html`
- **Notion:** [ะกะขะะะฆะะฏ 7: ะคะะะะ](https://www.notion.so/2c333667161d819fbcebcec2f8362e48)
- **ะกะฟะตัะธัะธะบะฐัะธั:** `.agent/specs/FARM-SPEC.md`

---

## ๐ฏ ะกะะะะฃะฎะฉะะ ะจะะ

1. **ะะพะถะดะฐัััั ะบะฐััะธะฝะพะบ ะพั Gemini** โ ะฟะพะปะพะถะธัั ะฒ `/public/icons/locations/`
2. **ะะะฏ: ะกะพะทะดะฐัั ัะฐะฑะปะธัั** locations, equipment, user_*
3. **ะะะะะะ: useFarm ััะบ** โ ะธะฝัะตะณัะฐัะธั UI ั RPC

---

**ะัะฒะตัััะฒะตะฝะฝัะต:**
- Backend (SQL/RPC): ะะะฏ โ RPC ะณะพัะพะฒั
- Frontend (React): ะะะะฏ โ UI ะณะพัะพะฒ (ะฑะฐะทะพะฒัะน)
- ะฅัะบ/ะธะฝัะตะณัะฐัะธั: ะะะะะะ
- ะะฐััะธะฝะบะธ: Gemini ๐ ะ ัะฐะฑะพัะต
- ะะพะพัะดะธะฝะฐัะธั: ะะปะตะบัะฐะฝะดั
