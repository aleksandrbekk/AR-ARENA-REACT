<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRYPTO VAULT - AR ARENA</title>
    <link rel="stylesheet" href="vault.css?v=RELATIVE-v12">
    <script src="https://telegram.org/js/telegram-web-app.js?v=1758366341"></script>
</head>
<body>
    <div class="container">
        <!-- –•–µ–¥–µ—Ä —Å –∫–Ω–æ–ø–∫–æ–π –Ω–∞–∑–∞–¥ –∏ —Å—á–µ—Ç—á–∏–∫–æ–º –æ—Ç–º—ã—á–µ–∫ -->
        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
            <!-- –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
            <button class="back-btn-compact" onclick="window.location.href='tasks.html'">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M12 4L6 10L12 16" stroke="#FFD700" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>

            <!-- –°—á–µ—Ç—á–∏–∫ –æ—Ç–º—ã—á–µ–∫ -->
            <div class="lockpick-corner-counter" style="position: relative !important;">
                <img src="icons/kiy.png?v=1758366341" alt="–û—Ç–º—ã—á–∫–∞" class="counter-icon">
                <span id="cornerLockpickCount">0</span>
            </div>
        </div>

        <!-- –ê–¥–º–∏–Ω—Å–∫–∞—è –∫–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ -->
        <button class="admin-reset-btn" onclick="resetVaultData()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
                <path d="M21 3v5h-5"/>
                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
                <path d="M8 16H3v5"/>
            </svg>
            <span>–°–±—Ä–æ—Å</span>
        </button>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="vault-header">
            <div class="vault-title-container">
                <img src="icons/arbank.png?v=1758366341" alt="AR Bank" class="bank-icon-large">
                <div class="vault-title">
                    <span>AR BANK</span>
                </div>
            </div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Ç–º—ã—á–∫–∏ —Å–æ —Å—á–µ—Ç—á–∏–∫–æ–º -->
        <div class="lockpick-container">
            <button id="lockpickBtn" class="lockpick-btn" onclick="getLockpick()">
                <img src="icons/kiy.png?v=1758366341" alt="–û—Ç–º—ã—á–∫–∞" class="lockpick-icon">
                <span>–ü–æ–ª—É—á–∏—Ç—å –æ—Ç–º—ã—á–∫—É</span>
            </button>
            <p class="lockpick-info">–î–æ—Å—Ç—É–ø–Ω–∞ —Ä–∞–∑ –≤ –¥–µ–Ω—å –¥–ª—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</p>
        </div>

        <!-- –¢–µ–∫—Å—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <div class="instruction-text" id="instructionText" style="display: none;">
            <p>–í—ã–±–µ—Ä–∏ –∫–µ–π—Å</p>
        </div>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–≥—Ä–∞–¥–∞—Ö -->
        <div class="rewards-info">
            <div class="reward-chip">10 AR <span class="chance">40%</span></div>
            <div class="reward-chip">25 AR <span class="chance">30%</span></div>
            <div class="reward-chip">50 AR <span class="chance">20%</span></div>
            <div class="reward-chip legendary">100 AR <span class="chance">8%</span></div>
            <div class="reward-chip epic">500 AR <span class="chance">2%</span></div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Å—É–Ω–¥—É–∫–∞–º–∏ -->
        <script>
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ —Å—É–Ω–¥—É–∫–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
            (function() {
                const chestOpenedDate = localStorage.getItem('chestOpenedDate');
                const today = new Date().toDateString();
                const openedChestIndex = parseInt(localStorage.getItem('lastOpenedChest') || '-1');
                const isChestOpenedToday = chestOpenedDate === today;

                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º HTML –¥–ª—è –≤—Å–µ—Ö 5 —Å—É–Ω–¥—É–∫–æ–≤
                document.write('<div class="chests-container">');

                for (let i = 0; i < 5; i++) {
                    const isOpened = isChestOpenedToday && i === openedChestIndex;
                    const chestClass = isOpened ? 'chest opened' : 'chest locked';
                    const imageSrc = isOpened ? 'icons/02.png' : 'icons/01.png';

                    document.write('<div class="' + chestClass + '" data-chest="' + (i + 1) + '">');
                    document.write('<img src="' + imageSrc + '?t=1758366341" class="chest-image" alt="–°—É–Ω–¥—É–∫">');
                    document.write('<div class="coins-container"></div>');
                    document.write('</div>');
                }

                document.write('</div>');

                // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Å—É–Ω–¥—É–∫–∞
                if (isChestOpenedToday && openedChestIndex >= 0) {
                    document.write('<style>');
                    document.write('.chests-container .chest:nth-child(' + (openedChestIndex + 1) + ') {');
                    document.write('  opacity: 1 !important;');
                    document.write('  filter: none !important;');
                    document.write('  pointer-events: none !important;');
                    document.write('}');
                    document.write('.chests-container .chest:nth-child(' + (openedChestIndex + 1) + ') .chest-image {');
                    document.write('  transform: scale(1.3) translateY(-15%);');
                    document.write('  opacity: 1 !important;');
                    document.write('}');
                    // –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–µ—á–µ–Ω–∏–µ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Å—É–Ω–¥—É–∫–∞
                    document.write('.chests-container .chest:nth-child(' + (openedChestIndex + 1) + ')::before {');
                    document.write('  content: "";');
                    document.write('  position: absolute;');
                    document.write('  top: 50%;');
                    document.write('  left: 50%;');
                    document.write('  transform: translate(-50%, -50%);');
                    document.write('  width: 180px;');
                    document.write('  height: 180px;');
                    document.write('  background: radial-gradient(circle, rgba(255, 215, 0, 0.25) 10%, rgba(255, 215, 0, 0.2) 25%, rgba(255, 215, 0, 0.12) 40%, rgba(255, 215, 0, 0.06) 55%, rgba(255, 215, 0, 0.02) 70%, transparent 85%);');
                    document.write('  pointer-events: none;');
                    document.write('  z-index: -1;');
                    document.write('  filter: blur(25px);');
                    document.write('}');
                    document.write('</style>');
                }
            })();
        </script>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥–ø–∏—Å–∫–∏ -->
        <div class="subscription-modal" id="subscriptionModal">
            <div class="modal-content">
                <h2>üîê –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–ø–∏—Å–∫–∞</h2>
                <p>–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–º—ã—á–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª—ã:</p>

                <!-- –°–ø–µ—Ü–∑–∞–¥–∞–Ω–∏—è –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ -->
                <div class="special-tasks-container">
                    <div class="special-task" id="specialTask1">
                        <div class="task-info">
                            <div class="task-title">üì∫ –ê–ª–µ–∫—Å–µ–π –†—É–¥–µ–Ω–∫–æ | –ö—Ä–∏–ø—Ç–æ–∏–Ω–≤–µ—Å—Ç–æ—Ä</div>
                            <div class="task-reward">–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–º—ã—á–∫–∏</div>
                        </div>
                        <button class="subscribe-btn" id="btnSpecial1" onclick="handleSpecialTask(1)">
                            –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è
                        </button>
                    </div>

                    <div class="special-task" id="specialTask2">
                        <div class="task-info">
                            <div class="task-title">üì∞ PREMIUM NEWS</div>
                            <div class="task-reward">–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–º—ã—á–∫–∏</div>
                        </div>
                        <button class="subscribe-btn" id="btnSpecial2" onclick="handleSpecialTask(2)">
                            –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è
                        </button>
                    </div>
                </div>

                <button class="close-modal-btn" onclick="closeSubscriptionModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è -->
        <div class="reward-modal" id="rewardModal">
            <div class="reward-content-compact">
                <div class="reward-header">
                    <div class="reward-coin"><img src="icons/arcoin.png?t=1758366341" alt="AR Coin" style="width: 40px; height: 40px;"></div>
                    <h3 class="reward-title">–ö–µ–π—Å –≤–∑–ª–æ–º–∞–Ω!</h3>
                </div>
                <div class="reward-amount" id="rewardAmount">+0 AR</div>
                <p class="reward-subtitle">–ù–∞–≥—Ä–∞–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞ –≤–∞—à –±–∞–ª–∞–Ω—Å</p>
                <button class="claim-btn" onclick="claimReward()">–ó–∞–±—Ä–∞—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ß–∞—Å—Ç–∏—Ü—ã –Ω–∞ —Ñ–æ–Ω–µ -->
    <div class="particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <script src="vault.js?v=NO-DELAY-v13"></script>
</body>
</html>