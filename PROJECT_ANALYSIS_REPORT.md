# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ AR ARENA

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

## 1. –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ **Vite + React** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —á–∏—Å—Ç–∞—è, –Ω–æ –µ—Å—Ç—å —Å–ª–µ–¥—ã –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è.

- **–ö–æ—Ä–Ω–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è**: –ö–æ–Ω—Ñ–∏–≥–∏, —Å–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è (`deploy.sh`), SQL –º–∏–≥—Ä–∞—Ü–∏–∏ (`/supabase`).
- **`src/`**: –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥.
  - **`pages/`**: 18 —Å—Ç—Ä–∞–Ω–∏—Ü (–û—Å–Ω–æ–≤–Ω—ã–µ: `Home`, `SkinsPage`, `FarmPage`, `ProfilePage`, `CrmPage`).
  - **`components/`**: UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (`TapBull`, `Header`, `SkinCard`).
  - **`hooks/`**: –õ–æ–≥–∏–∫–∞ (`useAuth`, `useTap`, `useSkins`).
  - **`lib/`**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Supabase.
  - **`api/`**: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `src`, –Ω–æ –µ—Å—Ç—å –ø–∞–ø–∫–∞ `api` –≤ –∫–æ—Ä–Ω–µ (Serverless Functions –¥–ª—è Vercel).

**–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞**: `src/main.tsx` ‚Üí `src/App.tsx` (–†–æ—É—Ç–∏–Ω–≥).

## 2. –¢–ï–ö–£–©–ò–ô –°–¢–ï–ö

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | –í–µ—Ä—Å–∏—è |
|-----------|------------------|--------|
| **Frontend** | React + Vite | React 19, Vite 7 |
| **Styling** | Tailwind CSS | v4.1 (Latest) |
| **State** | React Hooks (Local + Context) | N/A (–ë–µ–∑ Redux/Zustand) |
| **Backend** | Supabase (PostgreSQL + Auth) | @supabase/supabase-js v2 |
| **RPC** | Custom SQL functions | Postgres Functions |
| **Telegram** | Telegram WebApp API | Window Object |
| **–ê–Ω–∏–º–∞—Ü–∏–∏** | Framer Motion | v12 |
| **Icons** | Lucide React | v0.555 |

## 3. –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –§–ò–ß–ò

| –§–∏—á–∞ | –°—Ç–∞—Ç—É—Å | –ì–¥–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------|--------|-----------------|-------------|
| **Auth Telegram** | ‚úÖ –ì–æ—Ç–æ–≤–æ | `hooks/useAuth.ts` | –í–∞–ª–∏–¥–∞—Ü–∏—è, –∑–∞–ø–∏—Å—å –≤ `users` —Ç–∞–±–ª–∏—Ü—É, –∑–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–ø—É—Å–∫–∞ –≤–Ω–µ TG. |
| **Tapper** | ‚úÖ –ì–æ—Ç–æ–≤–æ | `hooks/useTap.ts`, `TapBull.tsx` | RPC `process_bull_tap`, –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π UI, –ª–µ–≤–µ–ª-–∞–ø—ã. |
| **Skin System** | ‚úÖ –ì–æ—Ç–æ–≤–æ | `pages/SkinsPage.tsx` | –ü–æ–∫—É–ø–∫–∞ (`buy_skin`), —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∞ (`equip_skin`), –±–æ–Ω—É—Å—ã, —Ä–µ–¥–∫–æ—Å—Ç–∏. |
| **Currencies** | ‚úÖ –ì–æ—Ç–æ–≤–æ | `GameState` | BUL (–∏–≥—Ä–æ–≤–æ–π), AR (–¥–æ–Ω–∞—Ç). –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ö–µ–¥–µ—Ä–µ. |
| **Farm** | ‚úÖ –ì–æ—Ç–æ–≤–æ | `pages/FarmPage.tsx` | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –µ—Å—Ç—å, –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç. |
| **Giveaways** | ‚úÖ –ì–æ—Ç–æ–≤–æ | `pages/GiveawaysPage.tsx` | –£—á–∞—Å—Ç–∏–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∏—Å—Ç–æ—Ä–∏—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ. |
| **–ü—Ä–æ—Ñ–∏–ª—å** | ‚úÖ –ì–æ—Ç–æ–≤–æ | `pages/ProfilePage.tsx` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∏—Å—Ç–æ—Ä–∏—è —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π, –∞–≤–∞—Ç–∞—Ä. |
| **Referral** | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ | `SideButtons.tsx` | –ö–Ω–æ–ø–∫–∞ "–î—Ä—É–∑—å—è" –µ—Å—Ç—å, –Ω–æ **–Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç** (console.log). |
| **Supabase** | ‚úÖ –ì–æ—Ç–æ–≤–æ | `lib/supabase.ts` | –ö–ª–∏–µ–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω, fallback –Ω–∞ –æ—à–∏–±–∫–∏ —Å–µ—Ç–∏. |
| **–ù–∞–≤–∏–≥–∞—Ü–∏—è** | ‚úÖ –ì–æ—Ç–æ–≤–æ | `App.tsx` | React Router v7, –ø–µ—Ä–µ—Ö–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç. |

## 4. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ö–û–î–ê

- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: –†–∞–∑–¥–µ–ª–µ–Ω—ã –ª–æ–≥–∏—á–µ—Å–∫–∏ (`layout`, `skins`, `admin`). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è.
- **State Management**: **–°–ª–∞–±–æ–µ –º–µ—Å—Ç–æ**. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç –≤ —Ö—É–∫–µ `useAuth`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
  - *–ü—Ä–æ–±–ª–µ–º–∞*: –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ (Home -> Skins -> Home) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö (`get_bull_game_state`). –ù–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å—Ç–æ—Ä–∞.
- **API**: Heavy-backend –ø–æ–¥—Ö–æ–¥. –í—Å—è –ª–æ–≥–∏–∫–∞ (–Ω–∞—á–∏—Å–ª–µ–Ω–∏—è, –ø–æ–∫—É–ø–∫–∏) –≤–Ω—É—Ç—Ä–∏ SQL RPC —Ñ—É–Ω–∫—Ü–∏–π Supabase. –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ç–æ–ª—å–∫–æ –¥—ë—Ä–≥–∞–µ—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä—ã. –≠—Ç–æ **–æ—Ç–ª–∏—á–Ω–æ** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–∞–ø–∞–ª–∫–∏.
- **Router**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤ `App.tsx`. –ï—Å—Ç—å –∞–¥–º–∏–Ω—Å–∫–∏–µ —Ä–æ—É—Ç—ã –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã.

## 5. –ü–†–û–ë–õ–ï–ú–´ –ò –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –î–û–õ–ì

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
1. **–•–∞—Ä–¥–∫–æ–¥ –ø–∞—Ä–æ–ª—è —Å–µ—Ä–≤–µ—Ä–∞**: –í —Ñ–∞–π–ª–µ `deploy.sh` (—Å—Ç—Ä–æ–∫–∞ 24) –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –ª–µ–∂–∏—Ç –ø–∞—Ä–æ–ª—å –æ—Ç root SSH (`sshpass -p '...'`). **–ù—É–∂–Ω–æ —Å—Ä–æ—á–Ω–æ —É–±—Ä–∞—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è CI/CD.**
2. **–ê–¥–º–∏–Ω—ã –≤ –∫–æ–¥–µ**: –í `Home.tsx` –º–∞—Å—Å–∏–≤ `ADMIN_IDS` –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω. –õ—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Ç–∞–±–ª–∏—Ü—É `admins`.

### üü° –í–∞–∂–Ω–æ (–ö–æ–¥)
1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞**: `CrmPage.tsx` (41KB) –∏ `FullCrmPage.tsx` (111KB). –û–≥—Ä–æ–º–Ω—ã–µ —Ñ–∞–π–ª—ã, —Å–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å. –ù—É–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: `useAuth` –¥–µ–ª–∞–µ—Ç —Ñ–µ—Ç—á –ø—Ä–∏ –∫–∞–∂–¥–æ–º –º–∞—É–Ω—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ù—É–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –≤ React Context (`UserProvider`), —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ —Å–µ—Å—Å–∏—é.
3. **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: –í `useTap.ts` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `as { data: any; error: any }`. TypeScript –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ –Ω–∞ 100%.

### ‚ö™ –ú–µ–ª–æ—á–∏
1. **–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª**: –í `package.json` –µ—Å—Ç—å `lucide-react`, —Ö–æ—Ç—è –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö —Å–∫–∞–∑–∞–Ω–æ "–ó–ê–ü–†–ï–©–ï–ù–û". –ù–æ –∏–∫–æ–Ω–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ. –ù—É–∂–Ω–æ –ª–∏–±–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å, –ª–∏–±–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ–∏ SVG.
2. **–ú—É—Å–æ—Ä**: –§–∞–π–ª—ã `bot.js.backup`, `test-giveaway.js`, `scripts/` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞. –ó–∞—Å–ª–µ—Ä—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

## 6. –î–ò–ó–ê–ô–ù-–°–ò–°–¢–ï–ú–ê

- **–¶–≤–µ—Ç–∞**: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –±—Ä–µ–Ω–¥–±—É–∫—É (Dark #0a0a0a, Gold #FFD700). –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ Tailwind –∫–ª–∞—Å—Å—ã.
- **UI**: –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π Glassmorphism (`bg-white/5 backdrop-blur-md`).
- **–°–∫–∏–Ω—ã**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫—Ä–∞—Å–∏–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤ —Ä–µ–¥–∫–æ—Å—Ç–∏ (`RARITY_GRADIENTS`).
- **–ê–Ω–∏–º–∞—Ü–∏–∏**: Framer Motion –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —á–∞—Å—Ç–∏—Ü (`Particles`) –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤. –í—ã–≥–ª—è–¥–∏—Ç "Premium".

## 7. –î–ï–ü–õ–û–ô –ò –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê

- **–°–±–æ—Ä–∫–∞**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è `npm run build`.
- **–î–µ–ø–ª–æ–π**: –†—É—á–Ω–æ–π —Å–∫—Ä–∏–ø—Ç `deploy.sh`. –ö–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ `scp` –Ω–∞ —Å–µ—Ä–≤–µ—Ä `91.229.11.228`.
  - *–†–∏—Å–∫*: –ï—Å–ª–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–º–µ–Ω–∏—Ç—Å—è, –¥–µ–ø–ª–æ–π —Å–ª–æ–º–∞–µ—Ç—Å—è (–Ω—É–∂–µ–Ω sshpass).
- **CI/CD**: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (GitHub Actions –Ω–µ –Ω–∞–π–¥–µ–Ω—ã).

## 8. –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –¢–û–ü-5 –¥–µ–π—Å—Ç–≤–∏–π
1. üîê **–£–¥–∞–ª–∏—Ç—å –ø–∞—Ä–æ–ª—å –∏–∑ `deploy.sh`** –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á–∏.
2. üèé **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Auth**: –°–æ–∑–¥–∞—Ç—å `AuthProvider` –∏ –≤—ã–∑—ã–≤–∞—Ç—å `useAuth` –æ–¥–∏–Ω —Ä–∞–∑ –≤ `App.tsx`, –ø–µ—Ä–µ–¥–∞–≤–∞—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ Context. –≠—Ç–æ —É—Å–∫–æ—Ä–∏—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é.
3. üë• **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –†–µ—Ñ–µ—Ä–∞–ª–∫—É**: –ö–Ω–æ–ø–∫–∞ –µ—Å—Ç—å, –ª–æ–≥–∏–∫–∏ –Ω–µ—Ç. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏.
4. üßπ **–û—á–∏—Å—Ç–∏—Ç—å Root**: –£–±—Ä–∞—Ç—å `.js` —Å–∫—Ä–∏–ø—Ç—ã –∏ –±–µ–∫–∞–ø—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É `scripts/legacy`.
5. üì± **Mobile UX**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `useAuth` –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ ‚Äî —Ç–∞–º —Å—Ç–æ–∏—Ç –∑–∞–≥–ª—É—à–∫–∞ `mockState` –ø—Ä–∏ –æ—à–∏–±–∫–µ, —á—Ç–æ –º–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º.

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É "–î—Ä—É–∑—å—è/Referral".
- –†–∞–∑–±–∏—Ç—å `FullCrmPage.tsx` –Ω–∞ –º–µ–ª–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions –¥–ª—è –∞–≤—Ç–æ-–¥–µ–ø–ª–æ—è (–≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ `deploy.sh`).
